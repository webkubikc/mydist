!function(r,l){function o(e,t){var i,o,n=e.nodeName.toLowerCase();return"area"===n?(o=(i=e.parentNode).name,!(!e.href||!o||"map"!==i.nodeName.toLowerCase())&&(!!(o=r("img[usemap=#"+o+"]")[0])&&s(o))):(/input|select|textarea|button|object/.test(n)?!e.disabled:"a"===n&&e.href||t)&&s(e)}function s(e){return r.expr.filters.visible(e)&&!r(e).parents().andSelf().filter(function(){return"hidden"===r.css(this,"visibility")}).length}var e,t,i=0,n=/^ui-id-\d+$/;r.ui=r.ui||{},r.ui.version||(r.extend(r.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),r.fn.extend({_focus:r.fn.focus,focus:function(t,i){return"number"==typeof t?this.each(function(){var e=this;setTimeout(function(){r(e).focus(),i&&i.call(e)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var e=(r.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(r.css(this,"position"))&&/(auto|scroll)/.test(r.css(this,"overflow")+r.css(this,"overflow-y")+r.css(this,"overflow-x"))}):this.parents().filter(function(){return/(auto|scroll)/.test(r.css(this,"overflow")+r.css(this,"overflow-y")+r.css(this,"overflow-x"))})).eq(0);return/fixed/.test(this.css("position"))||!e.length?r(document):e},zIndex:function(e){if(e!==l)return this.css("zIndex",e);if(this.length)for(var t,i,o=r(this[0]);o.length&&o[0]!==document;){if(t=o.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(i=parseInt(o.css("zIndex"),10),!isNaN(i)&&0!==i))return i;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++i)})},removeUniqueId:function(){return this.each(function(){n.test(this.id)&&r(this).removeAttr("id")})}}),r.extend(r.expr[":"],{data:r.expr.createPseudo?r.expr.createPseudo(function(t){return function(e){return!!r.data(e,t)}}):function(e,t,i){return!!r.data(e,i[3])},focusable:function(e){return o(e,!isNaN(r.attr(e,"tabindex")))},tabbable:function(e){var t=r.attr(e,"tabindex"),i=isNaN(t);return(i||0<=t)&&o(e,!i)}}),r(function(){var e=document.body,t=e.appendChild(document.createElement("div"));t.offsetHeight,r.extend(t.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),r.support.minHeight=100===t.offsetHeight,r.support.selectstart="onselectstart"in t,e.removeChild(t).style.display="none"}),r("<a>").outerWidth(1).jquery||r.each(["Width","Height"],function(e,i){function o(e,t,i,o){return r.each(n,function(){t-=parseFloat(r.css(e,"padding"+this))||0,i&&(t-=parseFloat(r.css(e,"border"+this+"Width"))||0),o&&(t-=parseFloat(r.css(e,"margin"+this))||0)}),t}var n="Width"===i?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),a={innerWidth:r.fn.innerWidth,innerHeight:r.fn.innerHeight,outerWidth:r.fn.outerWidth,outerHeight:r.fn.outerHeight};r.fn["inner"+i]=function(e){return e===l?a["inner"+i].call(this):this.each(function(){r(this).css(s,o(this,e)+"px")})},r.fn["outer"+i]=function(e,t){return"number"!=typeof e?a["outer"+i].call(this,e):this.each(function(){r(this).css(s,o(this,e,!0,t)+"px")})}}),r("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(r.fn.removeData=(t=r.fn.removeData,function(e){return arguments.length?t.call(this,r.camelCase(e)):t.call(this)})),e=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[],r.ui.ie=!!e.length,r.ui.ie6=6===parseFloat(e[1],10),r.fn.extend({disableSelection:function(){return this.bind((r.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),r.extend(r.ui,{plugin:{add:function(e,t,i){var o,n=r.ui[e].prototype;for(o in i)n.plugins[o]=n.plugins[o]||[],n.plugins[o].push([t,i[o]])},call:function(e,t,i){var o,n=e.plugins[t];if(n&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(o=0;o<n.length;o++)e.options[n[o][0]]&&n[o][1].apply(e.element,i)}},contains:r.contains,hasScroll:function(e,t){if("hidden"===r(e).css("overflow"))return!1;var i=t&&"left"===t?"scrollLeft":"scrollTop",t=!1;return 0<e[i]||(e[i]=1,t=0<e[i],e[i]=0,t)},isOverAxis:function(e,t,i){return t<e&&e<t+i},isOver:function(e,t,i,o,n,s){return r.ui.isOverAxis(e,i,n)&&r.ui.isOverAxis(t,o,s)}}))}(jQuery),function(l,r){var i=0,d=Array.prototype.slice,o=l.cleanData;l.cleanData=function(e){for(var t,i=0;null!=(t=e[i]);i++)try{l(t).triggerHandler("remove")}catch(e){}o(e)},l.widget=function(e,i,a){var t,o,n,s,r=e.split(".")[0];e=e.split(".")[1],t=r+"-"+e,a||(a=i,i=l.Widget),l.expr[":"][t.toLowerCase()]=function(e){return!!l.data(e,t)},l[r]=l[r]||{},o=l[r][e],n=l[r][e]=function(e,t){if(!this._createWidget)return new n(e,t);arguments.length&&this._createWidget(e,t)},l.extend(n,o,{version:a.version,_proto:l.extend({},a),_childConstructors:[]}),(s=new i).options=l.widget.extend({},s.options),l.each(a,function(t,o){function n(){return i.prototype[t].apply(this,arguments)}function s(e){return i.prototype[t].apply(this,e)}l.isFunction(o)&&(a[t]=function(){var e,t=this._super,i=this._superApply;return this._super=n,this._superApply=s,e=o.apply(this,arguments),this._super=t,this._superApply=i,e})}),n.prototype=l.widget.extend(s,{widgetEventPrefix:o?s.widgetEventPrefix:e},a,{constructor:n,namespace:r,widgetName:e,widgetBaseClass:t,widgetFullName:t}),o?(l.each(o._childConstructors,function(e,t){var i=t.prototype;l.widget(i.namespace+"."+i.widgetName,n,t._proto)}),delete o._childConstructors):i._childConstructors.push(n),l.widget.bridge(e,n)},l.widget.extend=function(e){for(var t,i,o=d.call(arguments,1),n=0,s=o.length;n<s;n++)for(t in o[n])i=o[n][t],o[n].hasOwnProperty(t)&&i!==r&&(l.isPlainObject(i)?e[t]=l.isPlainObject(e[t])?l.widget.extend({},e[t],i):l.widget.extend({},i):e[t]=i);return e},l.widget.bridge=function(s,t){var a=t.prototype.widgetFullName||s;l.fn[s]=function(i){var e="string"==typeof i,o=d.call(arguments,1),n=this;return i=!e&&o.length?l.widget.extend.apply(null,[i].concat(o)):i,e?this.each(function(){var e,t=l.data(this,a);return t?l.isFunction(t[i])&&"_"!==i.charAt(0)?(e=t[i].apply(t,o))!==t&&e!==r?(n=e&&e.jquery?n.pushStack(e.get()):e,!1):void 0:l.error("no such method '"+i+"' for "+s+" widget instance"):l.error("cannot call methods on "+s+" prior to initialization; attempted to call method '"+i+"'")}):this.each(function(){var e=l.data(this,a);e?e.option(i||{})._init():l.data(this,a,new t(i,this))}),n}},l.Widget=function(){},l.Widget._childConstructors=[],l.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,t){t=l(t||this.defaultElement||this)[0],this.element=l(t),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=l.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=l(),this.hoverable=l(),this.focusable=l(),t!==this&&(l.data(t,this.widgetName,this),l.data(t,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===t&&this.destroy()}}),this.document=l(t.style?t.ownerDocument:t.document||t),this.window=l(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:l.noop,_getCreateEventData:l.noop,_create:l.noop,_init:l.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(l.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:l.noop,widget:function(){return this.element},option:function(e,t){var i,o,n,s=e;if(0===arguments.length)return l.widget.extend({},this.options);if("string"==typeof e)if(s={},e=(i=e.split(".")).shift(),i.length){for(o=s[e]=l.widget.extend({},this.options[e]),n=0;n<i.length-1;n++)o[i[n]]=o[i[n]]||{},o=o[i[n]];if(e=i.pop(),t===r)return o[e]===r?null:o[e];o[e]=t}else{if(t===r)return this.options[e]===r?null:this.options[e];s[e]=t}return this._setOptions(s),this},_setOptions:function(e){for(var t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(n,s,e){var a,r=this;"boolean"!=typeof n&&(e=s,s=n,n=!1),e?(s=a=l(s),this.bindings=this.bindings.add(s)):(e=s,s=this.element,a=this.widget()),l.each(e,function(e,t){function i(){if(n||!0!==r.options.disabled&&!l(this).hasClass("ui-state-disabled"))return("string"==typeof t?r[t]:t).apply(r,arguments)}"string"!=typeof t&&(i.guid=t.guid=t.guid||i.guid||l.guid++);var o=e.match(/^(\w+)\s*(.*)$/),e=o[1]+r.eventNamespace,o=o[2];o?a.delegate(o,e,i):s.bind(e,i)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){var i=this;return setTimeout(function(){return("string"==typeof e?i[e]:e).apply(i,arguments)},t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){l(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){l(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){l(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){l(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,t,i){var o,n,s=this.options[e];if(i=i||{},(t=l.Event(t)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],n=t.originalEvent)for(o in n)o in t||(t[o]=n[o]);return this.element.trigger(t,i),!(l.isFunction(s)&&!1===s.apply(this.element[0],[t].concat(i))||t.isDefaultPrevented())}},l.each({show:"fadeIn",hide:"fadeOut"},function(s,a){l.Widget.prototype["_"+s]=function(t,e,i){"string"==typeof e&&(e={effect:e});var o,n=e?!0!==e&&"number"!=typeof e&&e.effect||a:s;"number"==typeof(e=e||{})&&(e={duration:e}),o=!l.isEmptyObject(e),e.complete=i,e.delay&&t.delay(e.delay),o&&l.effects&&(l.effects.effect[n]||!1!==l.uiBackCompat&&l.effects[n])?t[s](e):n!==s&&t[n]?t[n](e.duration,e.easing,i):t.queue(function(e){l(this)[s](),i&&i.call(t[0]),e()})}}),!1!==l.uiBackCompat&&(l.Widget.prototype._getCreateOptions=function(){return l.metadata&&l.metadata.get(this.element[0])[this.widgetName]})}(jQuery),function(n){var s=!1;n(document).mouseup(function(e){s=!1}),n.widget("ui.mouse",{version:"1.9.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(e){if(!0===n.data(e.target,t.widgetName+".preventClickEvent"))return n.removeData(e.target,t.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&n(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!s){this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var t=this,i=1===e.which,o=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&n(e.target).closest(this.options.cancel).length;return i&&!o&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){t.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?e.preventDefault():(!0===n.data(e.target,this.widgetName+".preventClickEvent")&&n.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return t._mouseMove(e)},this._mouseUpDelegate=function(e){return t._mouseUp(e)},n(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),s=!0),!0):!0}},_mouseMove:function(e){return!n.ui.ie||9<=document.documentMode||e.button?this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted):this._mouseUp(e)},_mouseUp:function(e){return n(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&n.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(e){return this.mouseDelayMet},_mouseStart:function(e){},_mouseDrag:function(e){},_mouseStop:function(e){},_mouseCapture:function(e){return!0}})}(jQuery),function(x){function $(e,t,i){return[parseInt(e[0],10)*(c.test(e[0])?t/100:1),parseInt(e[1],10)*(c.test(e[1])?i/100:1)]}function k(e,t){return parseInt(x.css(e,t),10)||0}x.ui=x.ui||{};var o,n,s,C=Math.max,T=Math.abs,E=Math.round,a=/left|center|right/,r=/top|center|bottom/,l=/[\+\-]\d+%?/,d=/^\w+/,c=/%$/,t=x.fn.position;x.position={scrollbarWidth:function(){if(void 0!==o)return o;var e,t=x("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),i=t.children()[0];return x("body").append(t),e=i.offsetWidth,t.css("overflow","scroll"),e===(i=i.offsetWidth)&&(i=t[0].clientWidth),t.remove(),o=e-i},getScrollInfo:function(e){var t=e.isWindow?"":e.element.css("overflow-x"),i=e.isWindow?"":e.element.css("overflow-y"),t="scroll"===t||"auto"===t&&e.width<e.element[0].scrollWidth,e="scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight;return{width:t?x.position.scrollbarWidth():0,height:e?x.position.scrollbarWidth():0}},getWithinInfo:function(e){var t=x(e||window),e=x.isWindow(t[0]);return{element:t,isWindow:e,offset:t.offset()||{left:0,top:0},scrollLeft:t.scrollLeft(),scrollTop:t.scrollTop(),width:e?t.width():t.outerWidth(),height:e?t.height():t.outerHeight()}}},x.fn.position=function(u){if(!u||!u.of)return t.apply(this,arguments);u=x.extend({},u);var h,p,f,m=x(u.of),g=x.position.getWithinInfo(u.within),v=x.position.getScrollInfo(g),e=m[0],_=(u.collision||"flip").split(" "),y={},b=9===e.nodeType?(p=m.width(),f=m.height(),{top:0,left:0}):x.isWindow(e)?(p=m.width(),f=m.height(),{top:m.scrollTop(),left:m.scrollLeft()}):e.preventDefault?(u.at="left top",p=f=0,{top:e.pageY,left:e.pageX}):(p=m.outerWidth(),f=m.outerHeight(),m.offset()),w=x.extend({},b);return x.each(["my","at"],function(){var e,t,i=(u[this]||"").split(" ");1===i.length&&(i=a.test(i[0])?i.concat(["center"]):r.test(i[0])?["center"].concat(i):["center","center"]),i[0]=a.test(i[0])?i[0]:"center",i[1]=r.test(i[1])?i[1]:"center",e=l.exec(i[0]),t=l.exec(i[1]),y[this]=[e?e[0]:0,t?t[0]:0],u[this]=[d.exec(i[0])[0],d.exec(i[1])[0]]}),1===_.length&&(_[1]=_[0]),"right"===u.at[0]?w.left+=p:"center"===u.at[0]&&(w.left+=p/2),"bottom"===u.at[1]?w.top+=f:"center"===u.at[1]&&(w.top+=f/2),h=$(y.at,p,f),w.left+=h[0],w.top+=h[1],this.each(function(){var i,e,a=x(this),r=a.outerWidth(),l=a.outerHeight(),t=k(this,"marginLeft"),o=k(this,"marginTop"),n=r+t+k(this,"marginRight")+v.width,s=l+o+k(this,"marginBottom")+v.height,d=x.extend({},w),c=$(y.my,a.outerWidth(),a.outerHeight());"right"===u.my[0]?d.left-=r:"center"===u.my[0]&&(d.left-=r/2),"bottom"===u.my[1]?d.top-=l:"center"===u.my[1]&&(d.top-=l/2),d.left+=c[0],d.top+=c[1],x.support.offsetFractions||(d.left=E(d.left),d.top=E(d.top)),i={marginLeft:t,marginTop:o},x.each(["left","top"],function(e,t){x.ui.position[_[e]]&&x.ui.position[_[e]][t](d,{targetWidth:p,targetHeight:f,elemWidth:r,elemHeight:l,collisionPosition:i,collisionWidth:n,collisionHeight:s,offset:[h[0]+c[0],h[1]+c[1]],my:u.my,at:u.at,within:g,elem:a})}),x.fn.bgiframe&&a.bgiframe(),u.using&&(e=function(e){var t=b.left-d.left,i=t+p-r,o=b.top-d.top,n=o+f-l,s={target:{element:m,left:b.left,top:b.top,width:p,height:f},element:{element:a,left:d.left,top:d.top,width:r,height:l},horizontal:i<0?"left":0<t?"right":"center",vertical:n<0?"top":0<o?"bottom":"middle"};p<r&&T(t+i)<p&&(s.horizontal="center"),f<l&&T(o+n)<f&&(s.vertical="middle"),C(T(t),T(i))>C(T(o),T(n))?s.important="horizontal":s.important="vertical",u.using.call(this,e,s)}),a.offset(x.extend(d,{using:e}))})},x.ui.position={fit:{left:function(e,t){var i=t.within,o=i.isWindow?i.scrollLeft:i.offset.left,n=i.width,s=e.left-t.collisionPosition.marginLeft,a=o-s,r=s+t.collisionWidth-n-o;t.collisionWidth>n?0<a&&r<=0?(i=e.left+a+t.collisionWidth-n-o,e.left+=a-i):e.left=!(0<r&&a<=0)&&r<a?o+n-t.collisionWidth:o:0<a?e.left+=a:0<r?e.left-=r:e.left=C(e.left-s,e.left)},top:function(e,t){var i=t.within,o=i.isWindow?i.scrollTop:i.offset.top,n=t.within.height,s=e.top-t.collisionPosition.marginTop,a=o-s,r=s+t.collisionHeight-n-o;t.collisionHeight>n?0<a&&r<=0?(i=e.top+a+t.collisionHeight-n-o,e.top+=a-i):e.top=!(0<r&&a<=0)&&r<a?o+n-t.collisionHeight:o:0<a?e.top+=a:0<r?e.top-=r:e.top=C(e.top-s,e.top)}},flip:{left:function(e,t){var i=t.within,o=i.offset.left+i.scrollLeft,n=i.width,s=i.isWindow?i.scrollLeft:i.offset.left,a=e.left-t.collisionPosition.marginLeft,r=a-s,l=a+t.collisionWidth-n-s,d="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,i="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,a=-2*t.offset[0];r<0?((o=e.left+d+i+a+t.collisionWidth-n-o)<0||o<T(r))&&(e.left+=d+i+a):0<l&&(0<(s=e.left-t.collisionPosition.marginLeft+d+i+a-s)||T(s)<l)&&(e.left+=d+i+a)},top:function(e,t){var i=t.within,o=i.offset.top+i.scrollTop,n=i.height,s=i.isWindow?i.scrollTop:i.offset.top,a=e.top-t.collisionPosition.marginTop,r=a-s,l=a+t.collisionHeight-n-s,d="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,i="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,a=-2*t.offset[1];r<0?(o=e.top+d+i+a+t.collisionHeight-n-o,e.top+d+i+a>r&&(o<0||o<T(r))&&(e.top+=d+i+a)):0<l&&(s=e.top-t.collisionPosition.marginTop+d+i+a-s,e.top+d+i+a>l&&(0<s||T(s)<l)&&(e.top+=d+i+a))}},flipfit:{left:function(){x.ui.position.flip.left.apply(this,arguments),x.ui.position.fit.left.apply(this,arguments)},top:function(){x.ui.position.flip.top.apply(this,arguments),x.ui.position.fit.top.apply(this,arguments)}}},function(){var e,t=document.getElementsByTagName("body")[0],i=document.createElement("div"),o=document.createElement(t?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};for(e in t&&x.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"}),n)o.style[e]=n[e];o.appendChild(i),(t=t||document.documentElement).insertBefore(o,t.firstChild),i.style.cssText="position: absolute; left: 10.7432222px;",i=x(i).offset().left,x.support.offsetFractions=10<i&&i<11,o.innerHTML="",t.removeChild(o)}(),!1!==x.uiBackCompat&&(n=jQuery,s=n.fn.position,n.fn.position=function(e){if(!e||!e.offset)return s.call(this,e);var t=e.offset.split(" "),i=e.at.split(" ");return 1===t.length&&(t[1]=t[0]),/^\d/.test(t[0])&&(t[0]="+"+t[0]),/^\d/.test(t[1])&&(t[1]="+"+t[1]),1===i.length&&(/left|center|right/.test(i[0])?i[1]="center":(i[1]=i[0],i[0]="center")),s.call(this,n.extend(e,{at:i[0]+t[0]+" "+i[1]+t[1],offset:void 0}))})}(jQuery),function(y){y.widget("ui.draggable",y.ui.mouse,{version:"1.9.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"!=this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var t=this.options;return!(this.helper||t.disabled||y(e.target).is(".ui-resizable-handle"))&&(this.handle=this._getHandle(e),!!this.handle&&(y(!0===t.iframeFix?"iframe":t.iframeFix).each(function(){y('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(y(this).offset()).appendTo("body")}),!0))},_mouseStart:function(e){var t=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),y.ui.ddmanager&&(y.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},y.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,t.cursorAt&&this._adjustOffsetFromHelper(t.cursorAt),t.containment&&this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),y.ui.ddmanager&&!t.dropBehaviour&&y.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),y.ui.ddmanager&&y.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,t){if(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!t){t=this._uiHash();if(!1===this._trigger("drag",e,t))return this._mouseUp({}),!1;this.position=t.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),y.ui.ddmanager&&y.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var t=!1;y.ui.ddmanager&&!this.options.dropBehaviour&&(t=y.ui.ddmanager.drop(this,e)),this.dropped&&(t=this.dropped,this.dropped=!1);for(var i,o=this.element[0],n=!1;o=o&&o.parentNode;)o==document&&(n=!0);return(n||"original"!==this.options.helper)&&("invalid"==this.options.revert&&!t||"valid"==this.options.revert&&t||!0===this.options.revert||y.isFunction(this.options.revert)&&this.options.revert.call(this.element,t)?y((i=this).helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==i._trigger("stop",e)&&i._clear()}):!1!==this._trigger("stop",e)&&this._clear()),!1},_mouseUp:function(e){return y("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),y.ui.ddmanager&&y.ui.ddmanager.dragStop(this,e),y.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){var t=!this.options.handle||!y(this.options.handle,this.element).length;return y(this.options.handle,this.element).find("*").andSelf().each(function(){this==e.target&&(t=!0)}),t},_createHelper:function(e){var t=this.options,e=y.isFunction(t.helper)?y(t.helper.apply(this.element[0],[e])):"clone"==t.helper?this.element.clone().removeAttr("id"):this.element;return e.parents("body").length||e.appendTo("parent"==t.appendTo?this.element[0].parentNode:t.appendTo),e[0]==this.element[0]||/(fixed|absolute)/.test(e.css("position"))||e.css("position","absolute"),e},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),y.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&y.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&y.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!=this.cssPosition)return{top:0,left:0};var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,i=this.options;"parent"==i.containment&&(i.containment=this.helper[0].parentNode),"document"!=i.containment&&"window"!=i.containment||(this.containment=["document"==i.containment?0:y(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==i.containment?0:y(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==i.containment?0:y(window).scrollLeft())+y("document"==i.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==i.containment?0:y(window).scrollTop())+(y("document"==i.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||i.containment.constructor==Array?i.containment.constructor==Array&&(this.containment=i.containment):(t=(e=y(i.containment))[0])&&(e.offset(),i="hidden"!=y(t).css("overflow"),this.containment=[(parseInt(y(t).css("borderLeftWidth"),10)||0)+(parseInt(y(t).css("paddingLeft"),10)||0),(parseInt(y(t).css("borderTopWidth"),10)||0)+(parseInt(y(t).css("paddingTop"),10)||0),(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(y(t).css("borderLeftWidth"),10)||0)-(parseInt(y(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(y(t).css("borderTopWidth"),10)||0)-(parseInt(y(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=e)},_convertPositionTo:function(e,t){t=t||this.position;var i="absolute"==e?1:-1,o=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&y.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),e=/(html|body)/i.test(o[0].tagName);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():e?0:o.scrollTop())*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():e?0:o.scrollLeft())*i}},_generatePosition:function(e){var t,i=this.options,o="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&y.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,n=/(html|body)/i.test(o[0].tagName),s=e.pageX,a=e.pageY;return this.originalPosition&&(this.containment&&(t=this.relative_container?(t=this.relative_container.offset(),[this.containment[0]+t.left,this.containment[1]+t.top,this.containment[2]+t.left,this.containment[3]+t.top]):this.containment,e.pageX-this.offset.click.left<t[0]&&(s=t[0]+this.offset.click.left),e.pageY-this.offset.click.top<t[1]&&(a=t[1]+this.offset.click.top),e.pageX-this.offset.click.left>t[2]&&(s=t[2]+this.offset.click.left),e.pageY-this.offset.click.top>t[3]&&(a=t[3]+this.offset.click.top)),i.grid&&(e=i.grid[1]?this.originalPageY+Math.round((a-this.originalPageY)/i.grid[1])*i.grid[1]:this.originalPageY,a=t&&(e-this.offset.click.top<t[1]||e-this.offset.click.top>t[3])?e-this.offset.click.top<t[1]?e+i.grid[1]:e-i.grid[1]:e,e=i.grid[0]?this.originalPageX+Math.round((s-this.originalPageX)/i.grid[0])*i.grid[0]:this.originalPageX,s=t&&(e-this.offset.click.left<t[0]||e-this.offset.click.left>t[2])?e-this.offset.click.left<t[0]?e+i.grid[0]:e-i.grid[0]:e)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():n?0:o.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():n?0:o.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]==this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,t,i){return i=i||this._uiHash(),y.ui.plugin.call(this,e,[t,i]),"drag"==e&&(this.positionAbs=this._convertPositionTo("absolute")),y.Widget.prototype._trigger.call(this,e,t,i)},plugins:{},_uiHash:function(e){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),y.ui.plugin.add("draggable","connectToSortable",{start:function(t,e){var i=y(this).data("draggable"),o=i.options,n=y.extend({},e,{item:i.element});i.sortables=[],y(o.connectToSortable).each(function(){var e=y.data(this,"sortable");e&&!e.options.disabled&&(i.sortables.push({instance:e,shouldRevert:e.options.revert}),e.refreshPositions(),e._trigger("activate",t,n))})},stop:function(e,t){var i=y(this).data("draggable"),o=y.extend({},t,{item:i.element});y.each(i.sortables,function(){this.instance.isOver?(this.instance.isOver=0,i.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"==i.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,o))})},drag:function(o,n){var s=y(this).data("draggable"),a=this;y.each(s.sortables,function(e){var t=!1,i=this;this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(t=!0,y.each(s.sortables,function(){return this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this!=i&&this.instance._intersectsWith(this.instance.containerCache)&&y.ui.contains(i.instance.element[0],this.instance.element[0])&&(t=!1),t})),t?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=y(a).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},o.target=this.instance.currentItem[0],this.instance._mouseCapture(o,!0),this.instance._mouseStart(o,!0,!0),this.instance.offset.click.top=s.offset.click.top,this.instance.offset.click.left=s.offset.click.left,this.instance.offset.parent.left-=s.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=s.offset.parent.top-this.instance.offset.parent.top,s._trigger("toSortable",o),s.dropped=this.instance.element,s.currentItem=s.element,this.instance.fromOutside=s),this.instance.currentItem&&this.instance._mouseDrag(o)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",o,this.instance._uiHash(this.instance)),this.instance._mouseStop(o,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),s._trigger("fromSortable",o),s.dropped=!1)})}}),y.ui.plugin.add("draggable","cursor",{start:function(e,t){var i=y("body"),o=y(this).data("draggable").options;i.css("cursor")&&(o._cursor=i.css("cursor")),i.css("cursor",o.cursor)},stop:function(e,t){var i=y(this).data("draggable").options;i._cursor&&y("body").css("cursor",i._cursor)}}),y.ui.plugin.add("draggable","opacity",{start:function(e,t){var i=y(t.helper),t=y(this).data("draggable").options;i.css("opacity")&&(t._opacity=i.css("opacity")),i.css("opacity",t.opacity)},stop:function(e,t){var i=y(this).data("draggable").options;i._opacity&&y(t.helper).css("opacity",i._opacity)}}),y.ui.plugin.add("draggable","scroll",{start:function(e,t){var i=y(this).data("draggable");i.scrollParent[0]!=document&&"HTML"!=i.scrollParent[0].tagName&&(i.overflowOffset=i.scrollParent.offset())},drag:function(e,t){var i=y(this).data("draggable"),o=i.options,n=!1;i.scrollParent[0]!=document&&"HTML"!=i.scrollParent[0].tagName?(o.axis&&"x"==o.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY<o.scrollSensitivity?i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop+o.scrollSpeed:e.pageY-i.overflowOffset.top<o.scrollSensitivity&&(i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop-o.scrollSpeed)),o.axis&&"y"==o.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX<o.scrollSensitivity?i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft+o.scrollSpeed:e.pageX-i.overflowOffset.left<o.scrollSensitivity&&(i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft-o.scrollSpeed))):(o.axis&&"x"==o.axis||(e.pageY-y(document).scrollTop()<o.scrollSensitivity?n=y(document).scrollTop(y(document).scrollTop()-o.scrollSpeed):y(window).height()-(e.pageY-y(document).scrollTop())<o.scrollSensitivity&&(n=y(document).scrollTop(y(document).scrollTop()+o.scrollSpeed))),o.axis&&"y"==o.axis||(e.pageX-y(document).scrollLeft()<o.scrollSensitivity?n=y(document).scrollLeft(y(document).scrollLeft()-o.scrollSpeed):y(window).width()-(e.pageX-y(document).scrollLeft())<o.scrollSensitivity&&(n=y(document).scrollLeft(y(document).scrollLeft()+o.scrollSpeed)))),!1!==n&&y.ui.ddmanager&&!o.dropBehaviour&&y.ui.ddmanager.prepareOffsets(i,e)}}),y.ui.plugin.add("draggable","snap",{start:function(e,t){var i=y(this).data("draggable"),o=i.options;i.snapElements=[],y(o.snap.constructor!=String?o.snap.items||":data(draggable)":o.snap).each(function(){var e=y(this),t=e.offset();this!=i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:t.top,left:t.left})})},drag:function(e,t){for(var i=y(this).data("draggable"),o=i.options,n=o.snapTolerance,s=t.offset.left,a=s+i.helperProportions.width,r=t.offset.top,l=r+i.helperProportions.height,d=i.snapElements.length-1;0<=d;d--){var c,u,h,p,f,m=i.snapElements[d].left,g=m+i.snapElements[d].width,v=i.snapElements[d].top,_=v+i.snapElements[d].height;m-n<s&&s<g+n&&v-n<r&&r<_+n||m-n<s&&s<g+n&&v-n<l&&l<_+n||m-n<a&&a<g+n&&v-n<r&&r<_+n||m-n<a&&a<g+n&&v-n<l&&l<_+n?("inner"!=o.snapMode&&(u=Math.abs(v-l)<=n,h=Math.abs(_-r)<=n,p=Math.abs(m-a)<=n,f=Math.abs(g-s)<=n,u&&(t.position.top=i._convertPositionTo("relative",{top:v-i.helperProportions.height,left:0}).top-i.margins.top),h&&(t.position.top=i._convertPositionTo("relative",{top:_,left:0}).top-i.margins.top),p&&(t.position.left=i._convertPositionTo("relative",{top:0,left:m-i.helperProportions.width}).left-i.margins.left),f&&(t.position.left=i._convertPositionTo("relative",{top:0,left:g}).left-i.margins.left)),c=u||h||p||f,"outer"!=o.snapMode&&(u=Math.abs(v-r)<=n,h=Math.abs(_-l)<=n,p=Math.abs(m-s)<=n,f=Math.abs(g-a)<=n,u&&(t.position.top=i._convertPositionTo("relative",{top:v,left:0}).top-i.margins.top),h&&(t.position.top=i._convertPositionTo("relative",{top:_-i.helperProportions.height,left:0}).top-i.margins.top),p&&(t.position.left=i._convertPositionTo("relative",{top:0,left:m}).left-i.margins.left),f&&(t.position.left=i._convertPositionTo("relative",{top:0,left:g-i.helperProportions.width}).left-i.margins.left)),!i.snapElements[d].snapping&&(u||h||p||f||c)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,y.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=u||h||p||f||c):(i.snapElements[d].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,y.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=!1)}}}),y.ui.plugin.add("draggable","stack",{start:function(e,t){var i,o=y(this).data("draggable").options,o=y.makeArray(y(o.stack)).sort(function(e,t){return(parseInt(y(e).css("zIndex"),10)||0)-(parseInt(y(t).css("zIndex"),10)||0)});o.length&&(i=parseInt(o[0].style.zIndex)||0,y(o).each(function(e){this.style.zIndex=i+e}),this[0].style.zIndex=i+o.length)}}),y.ui.plugin.add("draggable","zIndex",{start:function(e,t){var i=y(t.helper),t=y(this).data("draggable").options;i.css("zIndex")&&(t._zIndex=i.css("zIndex")),i.css("zIndex",t.zIndex)},stop:function(e,t){var i=y(this).data("draggable").options;i._zIndex&&y(t.helper).css("zIndex",i._zIndex)}})}(jQuery),function(s){function a(){var e=s(this).find(":ui-button");setTimeout(function(){e.button("refresh")},1)}function r(e){var t=e.name,i=e.form,o=s([]);return t&&(o=i?s(i).find("[name='"+t+"']"):s("[name='"+t+"']",e.ownerDocument).filter(function(){return!this.form})),o}var l,d,c,u,h="ui-button ui-widget ui-state-default ui-corner-all",p="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only";s.widget("ui.button",{version:"1.9.2",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,a),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,i=this.options,e="checkbox"===this.type||"radio"===this.type,o=e?"":"ui-state-active",n="ui-state-focus";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(h).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){i.disabled||this===l&&s(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||s(this).removeClass(o)}).bind("click"+this.eventNamespace,function(e){i.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){t.buttonElement.addClass(n)}).bind("blur"+this.eventNamespace,function(){t.buttonElement.removeClass(n)}),e&&(this.element.bind("change"+this.eventNamespace,function(){u||t.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(e){i.disabled||(u=!1,d=e.pageX,c=e.pageY)}).bind("mouseup"+this.eventNamespace,function(e){i.disabled||d===e.pageX&&c===e.pageY||(u=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return!i.disabled&&!u&&(s(this).toggleClass("ui-state-active"),void t.buttonElement.attr("aria-pressed",t.element[0].checked))}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled||u)return!1;s(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var e=t.element[0];r(e).not(e).map(function(){return s(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return!i.disabled&&(s(this).addClass("ui-state-active"),l=this,void t.document.one("mouseup",function(){l=null}))}).bind("mouseup"+this.eventNamespace,function(){return!i.disabled&&void s(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){return!i.disabled&&void(e.keyCode!==s.ui.keyCode.SPACE&&e.keyCode!==s.ui.keyCode.ENTER||s(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace,function(){s(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===s.ui.keyCode.SPACE&&s(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){var e,t;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=(e.length?e:this.element).siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),(t=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",t)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(h+" ui-state-hover ui-state-active  "+p).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){this._super(e,t),"disabled"!==e?this._resetButton():t?this.element.prop("disabled",!0):this.element.prop("disabled",!1)},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?r(this.element[0]).each(function(){s(this).is(":checked")?s(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):s(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){var e,t,i,o,n;"input"!==this.type?(e=this.buttonElement.removeClass(p),t=s("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),o=(i=this.options.icons).primary&&i.secondary,n=[],i.primary||i.secondary?(this.options.text&&n.push("ui-button-text-icon"+(o?"s":i.primary?"-primary":"-secondary")),i.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+i.primary+"'></span>"),i.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+i.secondary+"'></span>"),this.options.text||(n.push(o?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",s.trim(t)))):n.push("ui-button-text-only"),e.addClass(n.join(" "))):this.options.label&&this.element.val(this.options.label)}}),s.widget("ui.buttonset",{version:"1.9.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var e="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return s(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return s(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(r){var l="ui-dialog ui-widget ui-widget-content ui-corner-all ",s={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},a={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};r.widget("ui.dialog",{version:"1.9.2",options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var t=r(this).css(e).offset().top;t<0&&r(this).css("top",e.top-t)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),"string"!=typeof this.originalTitle&&(this.originalTitle=""),this.oldPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.options.title=this.options.title||this.originalTitle;var e,t,i,o=this,n=this.options,s=n.title||"&#160;",a=(this.uiDialog=r("<div>")).addClass(l+n.dialogClass).css({display:"none",outline:0,zIndex:n.zIndex}).attr("tabIndex",-1).keydown(function(e){n.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===r.ui.keyCode.ESCAPE&&(o.close(e),e.preventDefault())}).mousedown(function(e){o.moveToTop(!1,e)}).appendTo("body");this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(a),e=(this.uiDialogTitlebar=r("<div>")).addClass("ui-dialog-titlebar  ui-widget-header  ui-corner-all  ui-helper-clearfix").bind("mousedown",function(){a.focus()}).prependTo(a),t=r("<a href='#'></a>").addClass("ui-dialog-titlebar-close  ui-corner-all").attr("role","button").click(function(e){e.preventDefault(),o.close(e)}).appendTo(e),(this.uiDialogTitlebarCloseText=r("<span>")).addClass("ui-icon ui-icon-closethick").text(n.closeText).appendTo(t),i=r("<span>").uniqueId().addClass("ui-dialog-title").html(s).prependTo(e),s=(this.uiDialogButtonPane=r("<div>")).addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),(this.uiButtonSet=r("<div>")).addClass("ui-dialog-buttonset").appendTo(s),a.attr({role:"dialog","aria-labelledby":i.attr("id")}),e.find("*").add(e).disableSelection(),this._hoverable(t),this._focusable(t),n.draggable&&r.fn.draggable&&this._makeDraggable(),n.resizable&&r.fn.resizable&&this._makeResizable(),this._createButtons(n.buttons),this._isOpen=!1,r.fn.bgiframe&&a.bgiframe(),this._on(a,{keydown:function(e){if(n.modal&&e.keyCode===r.ui.keyCode.TAB){var t=r(":tabbable",a),i=t.filter(":first"),t=t.filter(":last");return e.target!==t[0]||e.shiftKey?e.target===i[0]&&e.shiftKey?(t.focus(1),!1):void 0:(i.focus(1),!1)}}})},_init:function(){this.options.autoOpen&&this.open()},_destroy:function(){var e,t=this.oldPosition;this.overlay&&this.overlay.destroy(),this.uiDialog.hide(),this.element.removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},close:function(e){var t,i,o=this;if(this._isOpen&&!1!==this._trigger("beforeClose",e))return this._isOpen=!1,this.overlay&&this.overlay.destroy(),this.options.hide?this._hide(this.uiDialog,this.options.hide,function(){o._trigger("close",e)}):(this.uiDialog.hide(),this._trigger("close",e)),r.ui.dialog.overlay.resize(),this.options.modal&&(t=0,r(".ui-dialog").each(function(){this!==o.uiDialog[0]&&(i=r(this).css("z-index"),isNaN(i)||(t=Math.max(t,i)))}),r.ui.dialog.maxZ=t),this},isOpen:function(){return this._isOpen},moveToTop:function(e,t){var i=this.options;return i.modal&&!e||!i.stack&&!i.modal?this._trigger("focus",t):(i.zIndex>r.ui.dialog.maxZ&&(r.ui.dialog.maxZ=i.zIndex),this.overlay&&(r.ui.dialog.maxZ+=1,r.ui.dialog.overlay.maxZ=r.ui.dialog.maxZ,this.overlay.$el.css("z-index",r.ui.dialog.overlay.maxZ)),i={scrollTop:this.element.scrollTop(),scrollLeft:this.element.scrollLeft()},r.ui.dialog.maxZ+=1,this.uiDialog.css("z-index",r.ui.dialog.maxZ),this.element.attr(i),this._trigger("focus",t),this)},open:function(){if(!this._isOpen){var e=this.options,t=this.uiDialog;return this._size(),this._position(e.position),t.show(e.show),this.overlay=e.modal?new r.ui.dialog.overlay(this):null,this.moveToTop(!0),(e=this.element.find(":tabbable")).length||((e=this.uiDialogButtonPane.find(":tabbable")).length||(e=t)),e.eq(0).focus(),this._isOpen=!0,this._trigger("open"),this}},_createButtons:function(e){var o=this,t=!1;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),"object"==typeof e&&null!==e&&r.each(e,function(){return!(t=!0)}),t?(r.each(e,function(e,t){var i;t=r.isFunction(t)?{click:t,text:e}:t,t=r.extend({type:"button"},t),i=t.click,t.click=function(){i.apply(o.element[0],arguments)},t=r("<button></button>",t).appendTo(o.uiButtonSet),r.fn.button&&t.button()}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)):this.uiDialog.removeClass("ui-dialog-buttons")},_makeDraggable:function(){function i(e){return{position:e.position,offset:e.offset}}var o=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(e,t){r(this).addClass("ui-dialog-dragging"),o._trigger("dragStart",e,i(t))},drag:function(e,t){o._trigger("drag",e,i(t))},stop:function(e,t){n.position=[t.position.left-o.document.scrollLeft(),t.position.top-o.document.scrollTop()],r(this).removeClass("ui-dialog-dragging"),o._trigger("dragStop",e,i(t)),r.ui.dialog.overlay.resize()}})},_makeResizable:function(e){function i(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}e=void 0===e?this.options.resizable:e;var o=this,n=this.options,t=this.uiDialog.css("position"),e="string"==typeof e?e:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:e,start:function(e,t){r(this).addClass("ui-dialog-resizing"),o._trigger("resizeStart",e,i(t))},resize:function(e,t){o._trigger("resize",e,i(t))},stop:function(e,t){r(this).removeClass("ui-dialog-resizing"),n.height=r(this).height(),n.width=r(this).width(),o._trigger("resizeStop",e,i(t)),r.ui.dialog.overlay.resize()}}).css("position",t).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(e){var t,i=[],o=[0,0];e=e?(("string"==typeof e||"object"==typeof e&&"0"in e)&&(1===(i=e.split?e.split(" "):[e[0],e[1]]).length&&(i[1]=i[0]),r.each(["left","top"],function(e,t){+i[e]===i[e]&&(o[e]=i[e],i[e]=t)}),e={my:i[0]+(o[0]<0?o[0]:"+"+o[0])+" "+i[1]+(o[1]<0?o[1]:"+"+o[1]),at:i.join(" ")}),r.extend({},r.ui.dialog.prototype.options.position,e)):r.ui.dialog.prototype.options.position,(t=this.uiDialog.is(":visible"))||this.uiDialog.show(),this.uiDialog.position(e),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,o={},n=!1;r.each(e,function(e,t){i._setOption(e,t),e in s&&(n=!0),e in a&&(o[e]=t)}),n&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",o)},_setOption:function(e,t){var i,o=this.uiDialog;switch(e){case"buttons":this._createButtons(t);break;case"closeText":this.uiDialogTitlebarCloseText.text(""+t);break;case"dialogClass":o.removeClass(this.options.dialogClass).addClass(l+t);break;case"disabled":t?o.addClass("ui-dialog-disabled"):o.removeClass("ui-dialog-disabled");break;case"draggable":(i=o.is(":data(draggable)"))&&!t&&o.draggable("destroy"),!i&&t&&this._makeDraggable();break;case"position":this._position(t);break;case"resizable":(i=o.is(":data(resizable)"))&&!t&&o.resizable("destroy"),i&&"string"==typeof t&&o.resizable("option","handles",t),i||!1===t||this._makeResizable(t);break;case"title":r(".ui-dialog-title",this.uiDialogTitlebar).html(""+(t||"&#160;"))}this._super(e,t)},_size:function(){var e,t,i,o=this.options,n=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),o.minWidth>o.width&&(o.width=o.minWidth),e=this.uiDialog.css({height:"auto",width:o.width}).outerHeight(),t=Math.max(0,o.minHeight-e),"auto"===o.height?r.support.minHeight?this.element.css({minHeight:t,height:"auto"}):(this.uiDialog.show(),i=this.element.css("height","auto").height(),n||this.uiDialog.hide(),this.element.height(Math.max(i,t))):this.element.height(Math.max(o.height-e,0)),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),r.extend(r.ui.dialog,{uuid:0,maxZ:0,getTitleId:function(e){e=e.attr("id");return e||(this.uuid+=1,e=this.uuid),"ui-dialog-title-"+e},overlay:function(e){this.$el=r.ui.dialog.overlay.create(e)}}),r.extend(r.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:r.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(e){return e+".dialog-overlay"}).join(" "),create:function(i){0===this.instances.length&&(setTimeout(function(){r.ui.dialog.overlay.instances.length&&r(document).bind(r.ui.dialog.overlay.events,function(e){if(r(e.target).zIndex()<r.ui.dialog.overlay.maxZ)return!1})},1),r(window).bind("resize.dialog-overlay",r.ui.dialog.overlay.resize));var o=this.oldInstances.pop()||r("<div>").addClass("ui-widget-overlay");return r(document).bind("keydown.dialog-overlay",function(e){var t=r.ui.dialog.overlay.instances;0!==t.length&&t[t.length-1]===o&&i.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===r.ui.keyCode.ESCAPE&&(i.close(e),e.preventDefault())}),o.appendTo(document.body).css({width:this.width(),height:this.height()}),r.fn.bgiframe&&o.bgiframe(),this.instances.push(o),o},destroy:function(e){var t=r.inArray(e,this.instances),i=0;-1!==t&&this.oldInstances.push(this.instances.splice(t,1)[0]),0===this.instances.length&&r([document,window]).unbind(".dialog-overlay"),e.height(0).width(0).remove(),r.each(this.instances,function(){i=Math.max(i,this.css("z-index"))}),this.maxZ=i},height:function(){var e;return r.ui.ie?(e=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight))<Math.max(document.documentElement.offsetHeight,document.body.offsetHeight)?r(window).height()+"px":e+"px":r(document).height()+"px"},width:function(){var e;return r.ui.ie?(e=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth))<Math.max(document.documentElement.offsetWidth,document.body.offsetWidth)?r(window).width()+"px":e+"px":r(document).width()+"px"},resize:function(){var e=r([]);r.each(r.ui.dialog.overlay.instances,function(){e=e.add(this)}),e.css({width:0,height:0}).css({width:r.ui.dialog.overlay.width(),height:r.ui.dialog.overlay.height()})}}),r.extend(r.ui.dialog.overlay.prototype,{destroy:function(){r.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(e){e.widget("ui.progressbar",{version:"1.9.2",options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return void 0===e?this._value():(this._setOption("value",e),this)},_setOption:function(e,t){"value"===e&&(this.options.value=t,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),this._super(e,t)},_value:function(){var e=this.options.value;return"number"!=typeof e&&(e=0),Math.min(this.options.max,Math.max(this.min,e))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var e=this.value(),t=this._percentage();this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),this.valueDiv.toggle(e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(t.toFixed(0)+"%"),this.element.attr("aria-valuenow",e)}})}(jQuery),jQuery.effects||function(r){var i,a,l,c,u,d,e,h,t,p,f,m,g,o,v,n=!1!==r.uiBackCompat,s="ui-effects-";function _(e,t,i,o){return r.isPlainObject(e)&&(e=(t=e).effect),e={effect:e},null==t&&(t={}),r.isFunction(t)&&(o=t,i=null,t={}),"number"!=typeof t&&!r.fx.speeds[t]||(o=i,i=t,t={}),r.isFunction(i)&&(o=i,i=null),t&&r.extend(e,t),i=i||t.duration,e.duration=r.fx.off?0:"number"==typeof i?i:i in r.fx.speeds?r.fx.speeds[i]:r.fx.speeds._default,e.complete=o||t.complete,e}function y(e){return!e||"number"==typeof e||r.fx.speeds[e]||"string"==typeof e&&!r.effects.effect[e]&&(!n||!r.effects[e])}function b(){var e,t,i=this.ownerDocument.defaultView?this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,o={};if(i&&i.length&&i[0]&&i[i[0]])for(t=i.length;t--;)"string"==typeof i[e=i[t]]&&(o[r.camelCase(e)]=i[e]);else for(e in i)"string"==typeof i[e]&&(o[e]=i[e]);return o}function w(e,t,i){var o=m[t.type]||{};return null==e?i||!t.def?null:t.def:(e=o.floor?~~e:parseFloat(e),isNaN(e)?t.def:o.mod?(e+o.mod)%o.mod:e<0?0:o.max<e?o.max:e)}function x(o){var n=p(),s=n._rgba=[];return o=o.toLowerCase(),v(t,function(e,t){var i=t.re.exec(o),i=i&&t.parse(i),t=t.space||"rgba";if(i)return i=n[t](i),n[f[t].cache]=i[f[t].cache],s=n._rgba=i._rgba,!1}),s.length?("0,0,0,0"===s.join()&&c.extend(s,d.transparent),n):d[o]}function $(e,t,i){return 6*(i=(i+1)%1)<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}r.effects={effect:{}},c=jQuery,e="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),h=/^([\-+])=\s*(\d+\.?\d*)/,t=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],p=c.Color=function(e,t,i,o){return new c.Color.fn.parse(e,t,i,o)},f={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},m={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},g=p.support={},o=c("<p>")[0],v=c.each,o.style.cssText="background-color:rgba(1,1,1,.5)",g.rgba=-1<o.style.backgroundColor.indexOf("rgba"),v(f,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),p.fn=c.extend(p.prototype,{parse:function(n,e,t,i){if(n===u)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=c(n).css(e),e=u);var s=this,o=c.type(n),a=this._rgba=[];return e!==u&&(n=[n,e,t,i],o="array"),"string"===o?this.parse(x(n)||d._default):"array"===o?(v(f.rgba.props,function(e,t){a[t.idx]=w(n[t.idx],t)}),this):"object"===o?(v(f,n instanceof p?function(e,t){n[t.cache]&&(s[t.cache]=n[t.cache].slice())}:function(e,i){var o=i.cache;v(i.props,function(e,t){if(!s[o]&&i.to){if("alpha"===e||null==n[e])return;s[o]=i.to(s._rgba)}s[o][t.idx]=w(n[e],t,!0)}),s[o]&&r.inArray(null,s[o].slice(0,3))<0&&(s[o][3]=1,i.from&&(s._rgba=i.from(s[o])))}),this):void 0},is:function(e){var n=p(e),s=!0,a=this;return v(f,function(e,t){var i,o=n[t.cache];return o&&(i=a[t.cache]||t.to&&t.to(a._rgba)||[],v(t.props,function(e,t){if(null!=o[t.idx])return s=o[t.idx]===i[t.idx]})),s}),s},_space:function(){var i=[],o=this;return v(f,function(e,t){o[t.cache]&&i.push(e)}),i.pop()},transition:function(e,a){var t=(d=p(e))._space(),i=f[t],e=0===this.alpha()?p("transparent"):this,r=e[i.cache]||i.to(e._rgba),l=r.slice(),d=d[i.cache];return v(i.props,function(e,t){var i=t.idx,o=r[i],n=d[i],s=m[t.type]||{};null!==n&&(null===o?l[i]=n:(s.mod&&(s.mod/2<n-o?o+=s.mod:s.mod/2<o-n&&(o-=s.mod)),l[i]=w((n-o)*a+o,t)))}),this[t](l)},blend:function(e){if(1===this._rgba[3])return this;var t=this._rgba.slice(),i=t.pop(),o=p(e)._rgba;return p(c.map(t,function(e,t){return(1-i)*o[t]+i*e}))},toRgbaString:function(){var e="rgba(",t=c.map(this._rgba,function(e,t){return null==e?2<t?1:0:e});return 1===t[3]&&(t.pop(),e="rgb("),e+t.join()+")"},toHslaString:function(){var e="hsla(",t=c.map(this.hsla(),function(e,t){return null==e&&(e=2<t?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e});return 1===t[3]&&(t.pop(),e="hsl("),e+t.join()+")"},toHexString:function(e){var t=this._rgba.slice(),i=t.pop();return e&&t.push(~~(255*i)),"#"+c.map(t,function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),p.fn.parse.prototype=p.fn,f.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/255,i=e[1]/255,o=e[2]/255,n=e[3],s=Math.max(t,i,o),a=Math.min(t,i,o),r=s-a,l=s+a,e=.5*l,i=a===s?0:t===s?60*(i-o)/r+360:i===s?60*(o-t)/r+120:60*(t-i)/r+240,l=0==e||1==e?e:e<=.5?r/l:r/(2-l);return[Math.round(i)%360,l,e,null==n?1:n]},f.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],o=e[2],e=e[3],i=o<=.5?o*(1+i):o+i-o*i,o=2*o-i;return[Math.round(255*$(o,i,t+1/3)),Math.round(255*$(o,i,t)),Math.round(255*$(o,i,t-1/3)),e]},v(f,function(r,e){var s=e.props,a=e.cache,l=e.to,d=e.from;p.fn[r]=function(e){if(l&&!this[a]&&(this[a]=l(this._rgba)),e===u)return this[a].slice();var t,i=c.type(e),o="array"===i||"object"===i?e:arguments,n=this[a].slice();return v(s,function(e,t){e=o["object"===i?e:t.idx];null==e&&(e=n[t.idx]),n[t.idx]=w(e,t)}),d?((t=p(d(n)))[a]=n,t):p(n)},v(s,function(s,a){p.fn[s]||(p.fn[s]=function(e){var t=c.type(e),i="alpha"===s?this._hsla?"hsla":"rgba":r,o=this[i](),n=o[a.idx];return"undefined"===t?n:("function"===t&&(e=e.call(this,n),t=c.type(e)),null==e&&a.empty?this:("string"===t&&((t=h.exec(e))&&(e=n+parseFloat(t[2])*("+"===t[1]?1:-1))),o[a.idx]=e,this[i](o)))})})}),v(e,function(e,s){c.cssHooks[s]={set:function(e,t){var i,o,n="";if("string"!==c.type(t)||(i=x(t))){if(t=p(i||t),!g.rgba&&1!==t._rgba[3]){for(o="backgroundColor"===s?e.parentNode:e;(""===n||"transparent"===n)&&o&&o.style;)try{n=c.css(o,"backgroundColor"),o=o.parentNode}catch(e){}t=t.blend(n&&"transparent"!==n?n:"_default")}t=t.toRgbaString()}try{e.style[s]=t}catch(e){}}},c.fx.step[s]=function(e){e.colorInit||(e.start=p(e.elem,s),e.end=p(e.end),e.colorInit=!0),c.cssHooks[s].set(e.elem,e.start.transition(e.end,e.pos))}}),c.cssHooks.borderColor={expand:function(i){var o={};return v(["Top","Right","Bottom","Left"],function(e,t){o["border"+t+"Color"]=i}),o}},d=c.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"},a=["add","remove","toggle"],l={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1},r.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,t){r.fx.step[t]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(jQuery.style(e.elem,t,e.end),e.setAttr=!0)}}),r.effects.animateClass=function(n,e,t,i){var s=r.speed(e,t,i);return this.queue(function(){var i=r(this),e=i.attr("class")||"",t=(t=s.children?i.find("*").andSelf():i).map(function(){return{el:r(this),start:b.call(this)}}),o=function(){r.each(a,function(e,t){n[t]&&i[t+"Class"](n[t])})};o(),t=t.map(function(){return this.end=b.call(this.el[0]),this.diff=function(e,t){var i,o,n={};for(i in t)o=t[i],e[i]===o||l[i]||!r.fx.step[i]&&isNaN(parseFloat(o))||(n[i]=o);return n}(this.start,this.end),this}),i.attr("class",e),t=t.map(function(){var e=this,t=r.Deferred(),i=jQuery.extend({},s,{queue:!1,complete:function(){t.resolve(e)}});return this.el.animate(this.diff,i),t.promise()}),r.when.apply(r,t.get()).done(function(){o(),r.each(arguments,function(){var t=this.el;r.each(this.diff,function(e){t.css(e,"")})}),s.complete.call(i[0])})})},r.fn.extend({_addClass:r.fn.addClass,addClass:function(e,t,i,o){return t?r.effects.animateClass.call(this,{add:e},t,i,o):this._addClass(e)},_removeClass:r.fn.removeClass,removeClass:function(e,t,i,o){return t?r.effects.animateClass.call(this,{remove:e},t,i,o):this._removeClass(e)},_toggleClass:r.fn.toggleClass,toggleClass:function(e,t,i,o,n){return"boolean"==typeof t||void 0===t?i?r.effects.animateClass.call(this,t?{add:e}:{remove:e},i,o,n):this._toggleClass(e,t):r.effects.animateClass.call(this,{toggle:e},t,i,o)},switchClass:function(e,t,i,o,n){return r.effects.animateClass.call(this,{add:t,remove:e},i,o,n)}}),r.extend(r.effects,{version:"1.9.2",save:function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&e.data(s+t[i],e[0].style[t[i]])},restore:function(e,t){for(var i,o=0;o<t.length;o++)null!==t[o]&&(void 0===(i=e.data(s+t[o]))&&(i=""),e.css(t[o],i))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,o;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":o=0;break;case"center":o=.5;break;case"right":o=1;break;default:o=e[1]/t.width}return{x:o,y:i}},createWrapper:function(i){if(i.parent().is(".ui-effects-wrapper"))return i.parent();var o={width:i.outerWidth(!0),height:i.outerHeight(!0),float:i.css("float")},e=r("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),t={width:i.width(),height:i.height()},n=document.activeElement;try{n.id}catch(e){n=document.body}return i.wrap(e),i[0]!==n&&!r.contains(i[0],n)||r(n).focus(),e=i.parent(),"static"===i.css("position")?(e.css({position:"relative"}),i.css({position:"relative"})):(r.extend(o,{position:i.css("position"),zIndex:i.css("z-index")}),r.each(["top","left","bottom","right"],function(e,t){o[t]=i.css(t),isNaN(parseInt(o[t],10))&&(o[t]="auto")}),i.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),i.css(t),e.css(o).show()},removeWrapper:function(e){var t=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),e[0]!==t&&!r.contains(e[0],t)||r(t).focus()),e},setTransition:function(o,e,n,s){return s=s||{},r.each(e,function(e,t){var i=o.cssUnit(t);0<i[0]&&(s[t]=i[0]*n+i[1])}),s}}),r.fn.extend({effect:function(){function e(e){function t(){r.isFunction(o)&&o.call(i[0]),r.isFunction(e)&&e()}var i=r(this),o=s.complete,n=s.mode;(i.is(":hidden")?"hide"===n:"show"===n)?t():a.call(i[0],s,t)}var s=_.apply(this,arguments),t=s.mode,i=s.queue,a=r.effects.effect[s.effect],o=!a&&n&&r.effects[s.effect];return r.fx.off||!a&&!o?t?this[t](s.duration,s.complete):this.each(function(){s.complete&&s.complete.call(this)}):a?!1===i?this.each(e):this.queue(i||"fx",e):o.call(this,{options:s,duration:s.duration,callback:s.complete,mode:s.mode})},_show:r.fn.show,show:function(e){if(y(e))return this._show.apply(this,arguments);var t=_.apply(this,arguments);return t.mode="show",this.effect.call(this,t)},_hide:r.fn.hide,hide:function(e){if(y(e))return this._hide.apply(this,arguments);var t=_.apply(this,arguments);return t.mode="hide",this.effect.call(this,t)},__toggle:r.fn.toggle,toggle:function(e){if(y(e)||"boolean"==typeof e||r.isFunction(e))return this.__toggle.apply(this,arguments);var t=_.apply(this,arguments);return t.mode="toggle",this.effect.call(this,t)},cssUnit:function(e){var i=this.css(e),o=[];return r.each(["em","px","%","pt"],function(e,t){0<i.indexOf(t)&&(o=[parseFloat(i),t])}),o}}),i={},r.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,e){i[e]=function(e){return Math.pow(e,t+2)}}),r.extend(i,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;e<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),r.each(i,function(e,t){r.easing["easeIn"+e]=t,r.easing["easeOut"+e]=function(e){return 1-t(1-e)},r.easing["easeInOut"+e]=function(e){return e<.5?t(2*e)/2:1-t(-2*e+2)/2}})}(jQuery),function(c){c.effects.effect.slide=function(e,t){var i=c(this),o=["position","top","bottom","left","right","width","height"],n=c.effects.setMode(i,e.mode||"show"),s="show"===n,a=e.direction||"left",r="up"===a||"down"===a?"top":"left",l="up"===a||"left"===a,d={};c.effects.save(i,o),i.show(),a=e.distance||i["top"==r?"outerHeight":"outerWidth"](!0),c.effects.createWrapper(i).css({overflow:"hidden"}),s&&i.css(r,l?isNaN(a)?"-"+a:-a:a),d[r]=(s?l?"+=":"-=":l?"-=":"+=")+a,i.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===n&&i.hide(),c.effects.restore(i,o),c.effects.removeWrapper(i),t()}})}}(jQuery),function(f){var m=/up|down|vertical/,g=/up|left|vertical|horizontal/;f.effects.effect.blind=function(e,t){var i,o,n=f(this),s=["position","top","bottom","left","right","height","width"],a=f.effects.setMode(n,e.mode||"hide"),r=e.direction||"up",l=m.test(r),d=l?"height":"width",c=l?"top":"left",u=g.test(r),h={},p="show"===a;n.parent().is(".ui-effects-wrapper")?f.effects.save(n.parent(),s):f.effects.save(n,s),n.show(),o=(i=f.effects.createWrapper(n).css({overflow:"hidden"}))[d](),r=parseFloat(i.css(c))||0,h[d]=p?o:0,u||(n.css(l?"bottom":"right",0).css(l?"top":"left","auto").css({position:"absolute"}),h[c]=p?r:o+r),p&&(i.css(d,0),u||i.css(c,r+o)),i.animate(h,{duration:e.duration,easing:e.easing,queue:!1,complete:function(){"hide"===a&&n.hide(),f.effects.restore(n,s),f.effects.removeWrapper(n),t()}})}}(jQuery),function(n){n.effects.effect.fade=function(e,t){var i=n(this),o=n.effects.setMode(i,e.mode||"toggle");i.animate({opacity:o},{queue:!1,duration:e.duration,easing:e.easing,complete:t})}}(jQuery),function(a){a.effects.effect.highlight=function(e,t){var i=a(this),o=["backgroundImage","backgroundColor","opacity"],n=a.effects.setMode(i,e.mode||"show"),s={backgroundColor:i.css("backgroundColor")};"hide"===n&&(s.opacity=0),a.effects.save(i,o),i.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===n&&i.hide(),a.effects.restore(i,o),t()}})}}(jQuery),function(u){u.effects.effect.pulsate=function(e,t){var i,o=u(this),n=u.effects.setMode(o,e.mode||"show"),s="show"===n,a="hide"===n,r=s||"hide"===n,l=2*(e.times||5)+(r?1:0),d=e.duration/l,c=0,n=o.queue(),r=n.length;for(!s&&o.is(":visible")||(o.css("opacity",0).show(),c=1),i=1;i<l;i++)o.animate({opacity:c},d,e.easing),c=1-c;o.animate({opacity:c},d,e.easing),o.queue(function(){a&&o.hide(),t()}),1<r&&n.splice.apply(n,[1,0].concat(n.splice(r,1+l))),o.dequeue()}}(jQuery),function(s){var o=0;s.widget("ui.autocomplete",{version:"1.9.2",defaultElement:"<input>",options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var i,o,n;this.isMultiLine=this._isMultiLine(),this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly"))o=n=i=!0;else{o=n=i=!1;var t=s.ui.keyCode;switch(e.keyCode){case t.PAGE_UP:i=!0,this._move("previousPage",e);break;case t.PAGE_DOWN:i=!0,this._move("nextPage",e);break;case t.UP:i=!0,this._keyEvent("previous",e);break;case t.DOWN:i=!0,this._keyEvent("next",e);break;case t.ENTER:case t.NUMPAD_ENTER:this.menu.active&&(i=!0,e.preventDefault(),this.menu.select(e));break;case t.TAB:this.menu.active&&this.menu.select(e);break;case t.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(e),e.preventDefault());break;default:o=!0,this._searchTimeout(e)}}},keypress:function(e){if(i)return i=!1,void e.preventDefault();if(!o){var t=s.ui.keyCode;switch(e.keyCode){case t.PAGE_UP:this._move("previousPage",e);break;case t.PAGE_DOWN:this._move("nextPage",e);break;case t.UP:this._keyEvent("previous",e);break;case t.DOWN:this._keyEvent("next",e)}}},input:function(e){if(n)return n=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),this._change(e))}}),this._initSource(),this.menu=s("<ul>").addClass("ui-autocomplete").appendTo(this.document.find(this.options.appendTo||"body")[0]).menu({input:s(),role:null}).zIndex(this.element.zIndex()+1).hide().data("menu"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];s(e.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(e){e.target===t.element[0]||e.target===i||s.contains(i,e.target)||t.close()})})},menufocus:function(e,t){if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){s(e.target).trigger(e.originalEvent)});t=t.item.data("ui-autocomplete-item")||t.item.data("item.autocomplete");!1!==this._trigger("focus",e,{item:t})?e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(t.value):this.liveRegion.text(t.value)},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item")||t.item.data("item.autocomplete"),o=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=o,this._delay(function(){this.previous=o,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=s("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),s.fn.bgiframe&&this.menu.element.bgiframe(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this.document.find(t||"body")[0]),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isMultiLine:function(){return!!this.element.is("textarea")||!this.element.is("input")&&this.element.prop("isContentEditable")},_initSource:function(){var i,o,n=this;s.isArray(this.options.source)?(i=this.options.source,this.source=function(e,t){t(s.ui.autocomplete.filter(i,e.term))}):"string"==typeof this.options.source?(o=this.options.source,this.source=function(e,t){n.xhr&&n.xhr.abort(),n.xhr=s.ajax({url:o,data:e,dataType:"json",success:function(e){t(e)},error:function(){t([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=this,i=++o;return function(e){i===o&&t.__response(e),t.pending--,t.pending||t.element.removeClass("ui-autocomplete-loading")}},__response:function(e){e=e&&this._normalize(e),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:s.map(e,function(e){return"string"==typeof e?{label:e,value:e}:s.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var t=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(t,e),this.menu.refresh(),t.show(),this._resizeMenu(),t.position(s.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(i,e){var o=this;s.each(e,function(e,t){o._renderItemData(i,t)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(e,t){return s("<li>").append(s("<a>").text(t.label)).appendTo(e)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())}}),s.extend(s.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,t){var i=new RegExp(s.ui.autocomplete.escapeRegex(t),"i");return s.grep(e,function(e){return i.test(e.label||e.value||e)})}}),s.widget("ui.autocomplete",s.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(1<e?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(jQuery),function(r){var i=!1;r.widget("ui.menu",{version:"1.9.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,r.proxy(function(e){this.options.disabled&&e.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(e){var t=r(e.target).closest(".ui-menu-item");!i&&t.not(".ui-state-disabled").length&&(i=!0,this.select(e),t.has(".ui-menu").length?this.expand(e):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var t=r(e.currentTarget);t.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(e,t)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,i)},blur:function(e){this._delay(function(){r.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){r(e.target).closest(".ui-menu").length||this.collapseAll(e),i=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=r(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){function t(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var i,o,n,s,a=!0;switch(e.keyCode){case r.ui.keyCode.PAGE_UP:this.previousPage(e);break;case r.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case r.ui.keyCode.HOME:this._move("first","first",e);break;case r.ui.keyCode.END:this._move("last","last",e);break;case r.ui.keyCode.UP:this.previous(e);break;case r.ui.keyCode.DOWN:this.next(e);break;case r.ui.keyCode.LEFT:this.collapse(e);break;case r.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case r.ui.keyCode.ENTER:case r.ui.keyCode.SPACE:this._activate(e);break;case r.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,i=this.previousFilter||"",o=String.fromCharCode(e.keyCode),n=!1,clearTimeout(this.filterTimer),o===i?n=!0:o=i+o,s=new RegExp("^"+t(o),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return s.test(r(this).children("a").text())}),(i=n&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i).length||(o=String.fromCharCode(e.keyCode),s=new RegExp("^"+t(o),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return s.test(r(this).children("a").text())})),i.length?(this.focus(e,i),1<i.length?(this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}a&&e.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var o=this.options.icons.submenu,e=this.element.find(this.options.menus);e.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=r(this),t=e.prev("a"),i=r("<span>").addClass("ui-menu-icon ui-icon "+o).data("ui-menu-submenu-carat",!0);t.attr("aria-haspopup","true").prepend(i),e.attr("aria-labelledby",t.attr("id"))}),(e=e.add(this.element)).children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),e.children(":not(.ui-menu-item)").each(function(){var e=r(this);/[^\-??\s]/.test(e.text())||e.addClass("ui-widget-content ui-menu-divider")}),e.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!r.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(e,t){var i;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(i=t.children(".ui-menu")).length&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(e){var t,i,o;this._hasScroll()&&(i=parseFloat(r.css(this.activeMenu[0],"borderTopWidth"))||0,o=parseFloat(r.css(this.activeMenu[0],"paddingTop"))||0,t=e.offset().top-this.activeMenu.offset().top-i-o,i=this.activeMenu.scrollTop(),o=this.activeMenu.height(),e=e.height(),t<0?this.activeMenu.scrollTop(i+t):o<t+e&&this.activeMenu.scrollTop(i+t-o+e))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(e){var t=r.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(t)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var e=i?this.element:r(t&&t.target).closest(this.element.find(".ui-menu"));e.length||(e=this.element),this._close(e),this.blur(t),this.activeMenu=e},this.delay)},_close:function(e){(e=e||(this.active?this.active.parent():this.element)).find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var o;this.active&&(o="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),o&&o.length&&this.active||(o=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(i,o)},nextPage:function(e){var t,i,o;this.active?this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,o=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(t=r(this)).offset().top-i-o<0}),this.focus(e,t)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var t,i,o;this.active?this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,o=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return 0<(t=r(this)).offset().top-i+o}),this.focus(e,t)):this.focus(e,this.activeMenu.children(".ui-menu-item").first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||r(e.target).closest(".ui-menu-item");var t={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,t)}})}(jQuery),function(t){var e,i,o,n,s,a,r;function l(e,t){var i,o;1<e.originalEvent.touches.length||(e.preventDefault(),i=e.originalEvent.changedTouches[0],(o=document.createEvent("MouseEvents")).initMouseEvent(t,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(o))}t.support.touch="ontouchend"in document,t.support.touch&&(e=t.ui.mouse.prototype,i=e._mouseInit,o=e._mouseDestroy,e._touchStart=function(e){!a&&this._mouseCapture(e.originalEvent.changedTouches[0])&&(r=!(a=!0),n=e.originalEvent.touches[0].screenX,s=e.originalEvent.touches[0].screenY,l(e,"mouseover"),l(e,"mousemove"),l(e,"mousedown"))},e._touchMove=function(e){var t,i;a&&(t=e.originalEvent.touches[0].screenX,i=e.originalEvent.touches[0].screenY,t-2<=n&&n<=t+2&&i-2<=s&&s<=i+2?r=!1:(r=!0,l(e,"mousemove")))},e._touchEnd=function(e){a&&(l(e,"mouseup"),l(e,"mouseout"),r||l(e,"click"),a=!1)},e._mouseInit=function(){var e=this;e.element.bind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),i.call(e)},e._mouseDestroy=function(){var e=this;e.element.unbind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),o.call(e)})}(jQuery),$.ui.dialog.prototype.options.responsive=!0,$.ui.dialog.prototype.options.scaleH=.9,$.ui.dialog.prototype.options.scaleW=1;var _init=$.ui.dialog.prototype._init;$.ui.dialog.prototype._init=function(){_init.apply(this,arguments)};var _open=$.ui.dialog.prototype.open;$.ui.dialog.prototype.open=function(){var o=this;_open.apply(this,arguments);function e(){var e,t,i;!0===o.options.responsive&&(e=o.element,t=$(window).height(),i=$(window).width(),e.parent().outerHeight(),e.parent().outerWidth(),t=Math.min(t*o.options.scaleH,n),i=Math.min(i*o.options.scaleW,s),e.dialog("option","height",t).parent().css("max-height",t),e.dialog("option","width",i).parent().css("max-width",i),e.dialog("option","position","center"),e.css("overflow","auto"))}var n=o.element.parent().outerHeight(),s=o.element.parent().outerWidth();e(),$(window).on("resize",e),o.element.on("dialogclose",function(){$(window).off("resize",e)}),window.addEventListener("orientationchange",function(){e()})};var c_cache=[],dle_poll_voted=[],file_uploaders=[];function reload(){var e=(new Date).getTime();document.getElementById("dle-captcha").innerHTML='<img src="'+dle_root+"engine/modules/antibot/antibot.php?rndval="+e+'" width="160" height="80" alt="" />'}function dle_change_sort(e,t){var i=document.getElementById("news_set_sort");return i.dlenewssortby.value=e,i.dledirection.value=t,i.submit(),!1}function doPoll(e,t){var i=document.getElementById("dlepollform_"+t),o=i.status.value,n="";if(1!=dle_poll_voted[t]){if("results"!=e&&1!=o){for(var s=0;s<i.elements.length;s++){var a=i.elements[s];if("radio"==a.type&&1==a.checked){n=a.value;break}"checkbox"==a.type&&1==a.checked&&(n=n+a.value+" ")}if("vote"==e&&""==n)return;dle_poll_voted[t]=1}else o=1,i.status.value=1;1==o&&"vote"==e&&(o=0,i.status.value=0,e="list"),ShowLoading(""),$.post(dle_root+"engine/ajax/controller.php?mod=poll",{news_id:t,action:e,answer:n,dle_skin:dle_skin,user_hash:dle_login_hash},function(e){HideLoading(""),$("#dle-poll-list-"+t).fadeOut(500,function(){$(this).html(e),$(this).fadeIn(500)})})}}function IPMenu(e,t,i,o){var n=[];return n[0]='<a href="https://www.nic.ru/whois/?searchWord='+e+'" target="_blank">'+t+"</a>",n[1]='<a href="'+dle_root+dle_admin+"?mod=iptools&ip="+e+'" target="_blank">'+i+"</a>",n[2]='<a href="'+dle_root+dle_admin+"?mod=blockip&ip="+e+'" target="_blank">'+o+"</a>",n}function ajax_save_for_edit(e,t){var i={};return"2"==quick_wysiwyg&&tinyMCE.triggerSave(),$.each($("#ajaxnews"+e).serializeArray(),function(e,t){i[t.name]=t.value}),i.id=e,i.field=t,i.action="save",i.user_hash=dle_login_hash,ShowLoading(""),$.post(dle_root+"engine/ajax/controller.php?mod=editnews",i,function(e){HideLoading(""),"ok"!=e?ModAlert.addAlert({type:"error",title:dle_info,text:e}):($("#dlepopup-news-edit").dialog("close"),DLEconfirm(dle_save_ok,dle_confirm,function(){location.reload(!0)}))}),!1}function ajax_prep_for_edit(s,a){for(var e=0,t=c_cache.length;e<t;e++)e in c_cache&&(!c_cache[e]&&""==c_cache[e]||ajax_cancel_comm_edit(e));return ShowLoading(""),$.get(dle_root+"engine/ajax/controller.php?mod=editnews",{id:s,field:a,action:"edit"},function(e){HideLoading("");var i="none";$("#modal-overlay").remove(),$("body").prepend('<div id="modal-overlay" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #666666; opacity: .40;filter:Alpha(Opacity=40); z-index: 980; display:none;"></div>'),$("#modal-overlay").css({filter:"alpha(opacity=40)"}).fadeIn();var t={};t[dle_act_lang[3]]=function(){$(this).dialog("close")},t[dle_act_lang[4]]=function(){ajax_save_for_edit(s,a)},$("#dlepopup-news-edit").remove(),$("body").prepend("<div id='dlepopup-news-edit' class='dlepopupnewsedit' title='"+menu_short+"' style='display:none'></div>"),$(".dlepopupnewsedit").html("");var o=.9*$(window).height(),n=.9*$(window).width();1024<n&&(n=1024),$("#dlepopup-news-edit").dialog({autoOpen:!0,width:n,height:o,buttons:t,resizable:!1,dialogClass:"modalfixed dle-popup-quickedit",dragStart:function(e,t){i=$(".modalfixed").css("box-shadow"),$(".modalfixed").css("box-shadow","none")},dragStop:function(e,t){$(".modalfixed").css("box-shadow",i)},close:function(e,t){$(this).dialog("destroy"),$("#modal-overlay").fadeOut(function(){$("#modal-overlay").remove()})}}),830<$(window).width()&&530<$(window).height()&&($(".modalfixed.ui-dialog").css({position:"fixed"}),$("#dlepopup-news-edit").dialog("option","position",{my:"center",at:"center",of:window})),$("#dlepopup-news-edit").css({overflow:"auto"}),$("#dlepopup-news-edit").css({"overflow-x":"hidden"}),$("#dlepopup-news-edit").html(e)},"html"),!1}function ajax_comm_edit(t,e){for(var i=0,o=c_cache.length;i<o;i++)i in c_cache&&""!=c_cache[i]&&ajax_cancel_comm_edit(i);return c_cache[t]&&""!=c_cache[t]||(c_cache[t]=$("#comm-id-"+t).html()),ShowLoading(""),$.get(dle_root+"engine/ajax/controller.php?mod=editcomments",{id:t,area:e,action:"edit"},function(e){HideLoading(""),$("#comm-id-"+t).html(e),setTimeout(function(){$("html,body").stop().animate({scrollTop:$("#comm-id-"+t).offset().top-100},700)},600)},"html"),!1}function ajax_cancel_comm_edit(e){return""!=c_cache[e]&&$("#comm-id-"+e).html(c_cache[e]),c_cache[e]="",!1}function ajax_save_comm_edit(t,e){"2"==dle_wysiwyg&&tinyMCE.triggerSave();var i=$("#dleeditcomments"+t).val();return ShowLoading(""),$.post(dle_root+"engine/ajax/controller.php?mod=editcomments",{id:t,comm_txt:i,area:e,action:"save",user_hash:dle_login_hash},function(e){HideLoading(""),c_cache[t]="",$("#comm-id-"+t).html(e)}),!1}function DeleteComments(e,t){DLEconfirm(dle_del_agree,dle_confirm,function(){ShowLoading(""),$.get(dle_root+"engine/ajax/controller.php?mod=deletecomments",{id:e,dle_allow_hash:t},function(e){var t;HideLoading(""),e=parseInt(e),isNaN(e)||(t=null,t="1"==dle_tree_comm?$("#comments-tree-item-"+e):$("#comment-id-"+e),$("html,body").stop().animate({scrollTop:t.offset().top-70},700),setTimeout(function(){t.hide("blind",{},1400)},700))})})}function MarkSpam(e,t){DLEconfirm(dle_spam_agree,dle_confirm,function(){ShowLoading(""),$.get(dle_root+"engine/ajax/controller.php?mod=adminfunction",{id:e,action:"commentsspam",user_hash:t},function(e){HideLoading(""),"error"!=e&&DLEconfirm(e,dle_confirm,function(){location.reload(!0)})})})}function doFavorites(t,e,i){return ShowLoading(""),$.get(dle_root+"engine/ajax/controller.php?mod=favorites",{fav_id:t,action:e,skin:dle_skin,alert:i,user_hash:dle_login_hash},function(e){HideLoading(""),e.success?i?ModAlert.addAlert({type:"error",title:dle_info,text:e.content}):$("#fav-id-"+t).html(e.content):e.error&&ModAlert.addAlert({type:"error",title:dle_info,text:e.content})},"json"),!1}function CheckLogin(){var e=document.getElementById("name").value;return ShowLoading(""),$.post(dle_root+"engine/ajax/controller.php?mod=registration",{name:e,user_hash:dle_login_hash},function(e){HideLoading(""),$("#result-registration").html(e)}),!1}function doCalendar(e,t,i){ShowLoading(""),$.get(dle_root+"engine/ajax/controller.php?mod=calendar",{month:e,year:t},function(e){HideLoading(""),"left"==i?$("#calendar-layer").hide("slide",{direction:"left"},500,function(){$("#calendar-layer").html(e).show("slide",{direction:"right"},500)}):$("#calendar-layer").hide("slide",{direction:"right"},500,function(){$("#calendar-layer").html(e).show("slide",{direction:"left"},500)})})}function doRate(e,i){ShowLoading(""),$.get(dle_root+"engine/ajax/controller.php?mod=rating",{go_rate:e,news_id:i,skin:dle_skin,user_hash:dle_login_hash},function(e){var t;HideLoading(""),e.success?(t=(t=(t=(t=e.rating).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&amp;/g,"&"),$("#ratig-layer-"+i).html(t),$("#vote-num-id-"+i).html(e.votenum),$("#likes-id-"+i).html(e.likes),$("#dislikes-id-"+i).html(e.dislikes),ModAlert.addAlert({type:"info",title:"Информация",text:"Спасибо Ваш голос учтен"})):e.error&&ModAlert.addAlert({type:"error",title:"Ошибка",text:e.errorinfo})},"json")}function doCommentsRate(e,i){ShowLoading(""),$.get(dle_root+"engine/ajax/controller.php?mod=ratingcomments",{go_rate:e,c_id:i,skin:dle_skin,user_hash:dle_login_hash},function(e){var t;HideLoading(""),e.success?(t=(t=(t=(t=e.rating).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&amp;/g,"&"),$("#comments-ratig-layer-"+i).html(t),$("#comments-vote-num-id-"+i).html(e.votenum),$("#comments-likes-id-"+i).html(e.likes),$("#comments-dislikes-id-"+i).html(e.dislikes)):e.error&&ModAlert.addAlert({type:"error",title:dle_info,text:e.errorinfo})},"json")}function ajax_cancel_reply(){$("#dlefastreplycomments").hide("blind",{},1400)}function DLESendPM(e){var l={};return $("#dlesendpmpopup").remove(),$("#dleprofilepopup").remove(),l[dle_act_lang[3]]=function(){$(this).dialog("close")},l[dle_p_send]=function(){"2"==dle_wysiwyg&&tinyMCE.triggerSave();var e=$("#pm_subj").val(),t=$("#pm_text").val(),i=$("#pm_name").val(),o=$("#pm_question_answer").val(),n=$("#sec_code_pm").val(),s=$("#outboxcopy:checked").val(),a="";if(""==i)return ModAlert.addAlert({type:"error",title:dle_info,text:dle_req_field[0]}),!1;if(""==t)return ModAlert.addAlert({type:"error",title:dle_info,text:dle_req_field[1]}),!1;if(""==e)return ModAlert.addAlert({type:"error",title:dle_info,text:dle_req_field[2]}),!1;if("1"==dle_captcha_type)"undefined"!=typeof grecaptcha&&(a=grecaptcha.getResponse(recaptcha_widget));else if("2"==dle_captcha_type&&"undefined"!=typeof grecaptcha){if(""==(a=$("#pm-recaptcha-response").val())){var r=$("#pm-recaptcha-response").data("key");return grecaptcha.execute(r,{action:"personal_message"}).then(function(e){$("#pm-recaptcha-response").val(e),l[dle_p_send]()}),!1}}else"3"==dle_captcha_type&&"undefined"!=typeof hcaptcha&&(a=hcaptcha.getResponse(recaptcha_widget));return s=s||0,n=n||"",o=o||"",ShowLoading(""),$.post(dle_root+"engine/ajax/controller.php?mod=pm",{action:"send_pm",subj:e,comments:t,name:i,skin:dle_skin,sec_code:n,question_answer:o,g_recaptcha_response:a,outboxcopy:s,user_hash:dle_login_hash},function(e){var t;HideLoading(""),e.success?($("#dlesendpmpopup").remove(),ModAlert.addAlert({type:"info",title:dle_info,text:e.success})):e.error&&("2"==dle_captcha_type&&"undefined"!=typeof grecaptcha&&(t=$("#pm-recaptcha-response").data("key"),grecaptcha.execute(t,{action:"pm"}).then(function(e){$("#pm-recaptcha-response").val(e)})),ModAlert.addAlert({type:"error",title:dle_info,text:e.error}))},"json"),!1},ShowLoading(""),$.get(dle_root+"engine/ajax/controller.php?mod=pm",{name:e,action:"show_send",skin:dle_skin,user_hash:dle_login_hash},function(e){HideLoading(""),$("body").append(e),$("#dlesendpmpopup").dialog({autoOpen:!0,width:800,resizable:!1,dialogClass:"modalfixed dle-popup-sendpm",buttons:l}),$(".modalfixed.ui-dialog").css({position:"fixed"}),$("#dlesendpmpopup").dialog("option","position",{my:"center",at:"center",of:window})},"html"),!1}function ajax_fast_reply(t,i,o){var e="";"1"!=dle_wysiwyg&&"2"!=dle_wysiwyg||("2"==dle_wysiwyg&&tinyMCE.triggerSave(),e="wysiwyg");var n=$("#comments"+t).val(),s=$("#name"+t).val(),a=$("#question_answer"+t).val(),r=$("#sec_code"+t).val(),l=$("#subscribe"+t+":checked").val(),d=$("#postid"+t).val(),c="";if(""==s)return ModAlert.addAlert({type:"error",title:dle_info,text:dle_req_field[0]}),!1;if(""==n)return ModAlert.addAlert({type:"error",title:dle_info,text:dle_req_field[1]}),!1;if("1"==dle_captcha_type)"undefined"!=typeof grecaptcha&&(c=grecaptcha.getResponse(recaptcha_widget));else if("2"==dle_captcha_type&&"undefined"!=typeof grecaptcha){if(""==(c=$("#comments-recaptcha-response"+t).val())){var u=$("#comments-recaptcha-response"+t).data("key");return grecaptcha.execute(u,{action:"comments"}).then(function(e){$("#comments-recaptcha-response"+t).val(e),ajax_fast_reply(t,i,o)}),!1}}else"3"==dle_captcha_type&&"undefined"!=typeof hcaptcha&&(c=hcaptcha.getResponse(recaptcha_widget));return l=l||0,r=r||"",a=a||"",ShowLoading(""),$.post(dle_root+"engine/ajax/controller.php?mod=addcomments",{is_spoiler:$("input[name='is_spoiler']:checked").val(),post_id:d,parent:t,indent:i,comments:n,name:s,mail:"",editor_mode:e,skin:dle_skin,sec_code:r,question_answer:a,g_recaptcha_response:c,allow_subscribe:l,user_hash:dle_login_hash,needwrap:o},function(e){var t;HideLoading(""),e.error?$(e.content).insertBefore("#dlefastreplyesponse"):e.success&&($("#comm-id-"+e.id).length?(t=$(e.content).find("#comm-id-"+e.id).html(),$("#dlefastreplycomments").hide(),$("html,body").stop().animate({scrollTop:$("#comm-id-"+e.id).offset().top-100},600,function(){$("#comm-id-"+e.id).fadeOut("slow",function(){$(this).html(t+"<script>"+e.scripts+"<\/script>"),$("#comm-id-"+e.id).fadeIn("slow")})})):($(e.content+"<script>"+e.scripts+"<\/script>").insertBefore("#dlefastreplyesponse"),$("#dlefastreplycomments").hide("blind",{},500),setTimeout(function(){$("html,body").stop().animate({scrollTop:$("#dlefastreplyesponse").offset().top-100},600,function(){$("#comments-tree-item-"+e.id).show("blind",{},700)})},600)))},"json"),!1}function dle_reply(d,c,t){var u={},h="",p=0;return $("#dlereplypopup").remove(),$("#dlefastreplyesponse").remove(),$("#dlefastreplycomments").remove(),$("#comment-id-"+d).next(".comments-tree-list").length?$("#comment-id-"+d).next(".comments-tree-list").append("<div id='dlefastreplyesponse'></div>"):($("<div id='dlefastreplyesponse'></div>").insertAfter("#comment-id-"+d),p=1),u[dle_act_lang[3]]=function(){$(this).dialog("close")},u[dle_p_send]=function(){"1"!=dle_wysiwyg&&"2"!=dle_wysiwyg||("2"==dle_wysiwyg&&tinyMCE.triggerSave(),h="wysiwyg");var e=$("#comments"+d).val(),t=$("#name"+d).val(),i=$("#mail"+d).val(),o=$("#question_answer"+d).val(),n=$("#sec_code"+d).val(),s=$("#subscribe"+d+":checked").val(),a=$("#postid"+d).val(),r="";if(""==t)return ModAlert.addAlert({type:"error",title:dle_info,text:dle_req_field[0]}),!1;if(""==e)return ModAlert.addAlert({type:"error",title:dle_info,text:dle_req_field[1]}),!1;if("1"==dle_captcha_type)"undefined"!=typeof grecaptcha&&(r=grecaptcha.getResponse(recaptcha_widget));else if("2"==dle_captcha_type&&"undefined"!=typeof grecaptcha){if(""==(r=$("#comments-recaptcha-response"+d).val())){var l=$("#comments-recaptcha-response"+d).data("key");return grecaptcha.execute(l,{action:"comments"}).then(function(e){$("#comments-recaptcha-response"+d).val(e),u[dle_p_send]()}),!1}}else"3"==dle_captcha_type&&"undefined"!=typeof hcaptcha&&(r=hcaptcha.getResponse(recaptcha_widget));return s=s||0,n=n||"",o=o||"",ShowLoading(""),$.post(dle_root+"engine/ajax/controller.php?mod=addcomments",{is_spoiler:$("input[name='is_spoiler']:checked").val(),post_id:a,parent:d,indent:c,comments:e,name:t,mail:i,editor_mode:h,skin:dle_skin,sec_code:n,question_answer:o,g_recaptcha_response:r,allow_subscribe:s,user_hash:dle_login_hash,needwrap:p},function(e){var t;HideLoading(""),e.error?$(e.content).insertBefore("#dlefastreplyesponse"):e.success&&($("#dlereplypopup").remove(),$("#comm-id-"+e.id).length?(t=$(e.content).find("#comm-id-"+e.id).html(),$("#dlefastreplycomments").hide(),$("html,body").stop().animate({scrollTop:$("#comm-id-"+e.id).offset().top-100},600,function(){$("#comm-id-"+e.id).fadeOut("slow",function(){$(this).html(t+"<script>"+e.scripts+"<\/script>"),$("#comm-id-"+e.id).fadeIn("slow")})})):($(e.content+"<script>"+e.scripts+"<\/script>").insertBefore("#dlefastreplyesponse"),$("#dlefastreplycomments").hide("blind",{},500),setTimeout(function(){$("html,body").stop().animate({scrollTop:$("#dlefastreplyesponse").offset().top-100},600,function(){$("#comments-tree-item-"+e.id).show("blind",{},700)})},600)))},"json"),!1},ShowLoading(""),$.get(dle_root+"engine/ajax/controller.php?mod=replycomments",{id:d,indent:c,skin:dle_skin,user_hash:dle_login_hash,needwrap:p},function(e){HideLoading(""),"0"!=t?($("<div id='dlefastreplycomments' style='display:none'></div>").insertAfter("#comment-id-"+d),$("html,body").stop().animate({scrollTop:$("#comment-id-"+d).offset().top+$("#comment-id-"+d).height()-100},600,function(){$("#dlefastreplycomments").html(e),setTimeout(function(){$("#dlefastreplycomments").show("blind",{},700)},200)})):($("body").append("<div id='dlereplypopup' title='"+dle_reply_title+"' style='display:none'></div>"),$("#dlereplypopup").html(e),$("#dlereplypopup").dialog({autoOpen:!0,width:800,resizable:!1,dialogClass:"modalfixed dle-popup-replycomments",buttons:u}),$(".modalfixed.ui-dialog").css({position:"fixed"}),$(".dle-popup-replycomments").css({cssText:"width:800px; max-height: none !important"}),$("#dlereplypopup").css({cssText:"height: auto !important"}),$("#dlereplypopup").dialog("option","position",{my:"center",at:"center",of:window}))},"html"),!1}function doAddComments(){var i=document.getElementById("dle-comments-form"),e="",t="",o="",n="",s="0",a="";return"1"!=dle_wysiwyg&&"2"!=dle_wysiwyg||("2"==dle_wysiwyg&&tinyMCE.triggerSave(),e="wysiwyg"),""==i.name.value?ModAlert.addAlert({type:"error",title:dle_info,text:dle_req_field[0]}):""==i.comments.value?ModAlert.addAlert({type:"error",title:dle_info,text:dle_req_field[1]}):(i.question_answer&&(t=i.question_answer.value),i.sec_code&&(o=i.sec_code.value),"1"==dle_captcha_type?"undefined"!=typeof grecaptcha&&(n=grecaptcha.getResponse()):"2"==dle_captcha_type?n=$("#g-recaptcha-response").val():"3"==dle_captcha_type&&"undefined"!=typeof hcaptcha&&(n=hcaptcha.getResponse()),i.allow_subscribe&&1==i.allow_subscribe.checked&&(s="1"),i.mail&&(a=i.mail.value),ShowLoading(""),$.post(dle_root+"engine/ajax/controller.php?mod=addcomments",{is_spoiler:$("input[name='is_spoiler']:checked").val(),post_id:i.post_id.value,comments:i.comments.value,name:i.name.value,mail:a,editor_mode:e,skin:dle_skin,sec_code:o,question_answer:t,g_recaptcha_response:n,allow_subscribe:s,user_hash:dle_login_hash},function(e){var t;HideLoading(""),e.error?$("#dle-ajax-comments").append(e.content):e.success&&($("#comm-id-"+e.id).length?(t=$(e.content).find("#comm-id-"+e.id).html(),$("html,body").stop().animate({scrollTop:$("#comm-id-"+e.id).offset().top-100},600,function(){$("#comm-id-"+e.id).fadeOut("slow",function(){$(this).html(t+"<script>"+e.scripts+"<\/script>"),$("#comm-id-"+e.id).fadeIn("slow")})})):($(e.content+"<script>"+e.scripts+"<\/script>").insertBefore("#dle-ajax-comments"),node=$("#comments-tree-item-"+e.id).length?$("#comments-tree-item-"+e.id):$("#blind-animation-"+e.id),$("html,body").stop().animate({scrollTop:$("#dle-ajax-comments").offset().top-100},600,function(){$(node).show("blind",{},700)})),i.sec_code&&(i.sec_code.value="",reload()),"1"==dle_captcha_type?"undefined"!=typeof grecaptcha&&grecaptcha.reset():"3"==dle_captcha_type&&"undefined"!=typeof hcaptcha&&hcaptcha.reset())},"json")),!1}function isHistoryApiAvailable(){return!(!window.history||!history.pushState)}function CommentsPage(t,i,o){return ShowLoading(""),$.get(dle_root+"engine/ajax/controller.php?mod=comments",{cstart:t,news_id:i,skin:dle_skin},function(e){HideLoading(""),isNaN(t)||isNaN(i)||($("#dle-comm-link").off("click"),$("#dle-comm-link").on("click",function(){return CommentsPage(t,i),!1})),scroll(0,$("#dle-comments-list").offset().top-100),$("#dle-comments-list").html(e.comments),$(".dle-comments-navigation").html(e.navigation),isHistoryApiAvailable()&&window.history.pushState(null,null,o)},"json"),!1}function dle_copy_quote(e){dle_txt="",window.getSelection?dle_txt=window.getSelection().toString():document.selection&&(dle_txt=document.selection.createRange().text.toString()),""!=dle_txt&&(dle_txt="0"==dle_wysiwyg||"-1"==dle_wysiwyg?"[quote="+e+"]"+dle_txt+"[/quote]":(dle_txt=dle_txt.replace(/\n/g,"<br>"),dle_txt=dle_txt.replace(/\r/g,""),"1"==dle_wysiwyg?'<div class="quote_block noncontenteditable"><div class="title_quote">'+dle_quote_title+" "+e+'</div><div class="quote"><div class="quote_body contenteditable">'+dle_txt+"</div></div></div><br>":'<div class="quote_block noncontenteditable"><div class="title_quote">'+dle_quote_title+" "+e+'</div><div class="quote"><div class="quote_body contenteditable">'+dle_txt+"</div></div></div><p><br></p>"))}function dle_fastreply(e){if(!document.getElementById("dle-comments-form"))return!1;var t=document.getElementById("dle-comments-form").comments,i="";return"0"==dle_wysiwyg||"-1"==dle_wysiwyg?("0"==dle_wysiwyg?t.value+="[b]"+e+"[/b],\n":t.value+=e+",\n",setTimeout(function(){t.focus()},800),i=".bb-editor"):(e="<div><b>"+e+"</b>,</div><br>",i=".wseditor","1"==dle_wysiwyg?($("#comments").froalaEditor("events.focus"),$("#comments").froalaEditor("html.insert",e,!0)):tinyMCE.execCommand("mceInsertContent",!1,e)),setTimeout(function(){$("html,body").stop().animate({scrollTop:$(i).offset().top-100},700)},100),!1}function dle_ins(e){if(!document.getElementById("dle-comments-form"))return!1;var t=document.getElementById("dle-comments-form").comments,i="",o="";return""!=dle_txt?("0"==dle_wysiwyg||"-1"==dle_wysiwyg?(t.value+=dle_txt+"\n",setTimeout(function(){t.focus()},800),o=".bb-editor"):(i=dle_txt,o=".wseditor","1"==dle_wysiwyg?($("#comments").froalaEditor("events.focus"),$("#comments").froalaEditor("html.insert",i,!0)):tinyMCE.execCommand("mceInsertContent",!1,i)),setTimeout(function(){$("html,body").stop().animate({scrollTop:$(o).offset().top-100},700)},100)):(ShowLoading(""),$.get(dle_root+"engine/ajax/controller.php?mod=quote",{id:e,user_hash:dle_login_hash},function(e){HideLoading(""),e=(e=(e=(e=(e=(e=(e=e.replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&amp;/g,"&")).replace(/&quot;/g,'"')).replace(/&#039;/g,"'")).replace(/&#039;/g,"'")).replace(/&#34;/g,'"'),"0"==dle_wysiwyg||"-1"==dle_wysiwyg?(t.value+=e+"\n",setTimeout(function(){t.focus()},800),o=".bb-editor"):(i=e,o=".wseditor","1"==dle_wysiwyg?($("#comments").froalaEditor("events.focus"),$("#comments").froalaEditor("html.insert",i+"<br>",!0)):tinyMCE.execCommand("mceInsertContent",!1,i+"<p><br></p>")),setTimeout(function(){$("html,body").stop().animate({scrollTop:$(o).offset().top-100},700)},100)})),!1}function ShowOrHide(e){var t=$("#"+e),i=null;document.getElementById("image-"+e)&&(i=document.getElementById("image-"+e)),jQuery().lazyLoadXT&&$("#"+e+" *[data-src]").lazyLoadXT(),3e3<(e=t.height()/200*1e3)&&(e=3e3),e<250&&(e=250),"none"==t.css("display")?(t.show("blind",{},e),i&&(i.src=dle_root+"templates/"+dle_skin+"/dleimages/spoiler-minus.gif")):(2e3<e&&(e=2e3),t.hide("blind",{},e),i&&(i.src=dle_root+"templates/"+dle_skin+"/dleimages/spoiler-plus.gif"))}function ckeck_uncheck_all(){for(var e=document.pmlist,t=0;t<e.elements.length;t++){var i=e.elements[t];"checkbox"==i.type&&(1==e.master_box.checked?i.checked=!1:i.checked=!0)}1==e.master_box.checked?e.master_box.checked=!1:e.master_box.checked=!0}function confirmDelete(e){DLEconfirm(dle_del_agree,dle_confirm,function(){document.location=e})}function setNewField(e,t){e!=selField&&(fombj=t,selField=e)}function dle_news_delete(t){var e={};e[dle_act_lang[1]]=function(){$(this).dialog("close")},allow_dle_delete_news&&(e[dle_del_msg]=function(){$(this).dialog("close");var e={};e[dle_act_lang[3]]=function(){$(this).dialog("close")},e[dle_p_send]=function(){var e;$("#dle-promt-text").val().length<1?$("#dle-promt-text").addClass("ui-state-error"):(e=$("#dle-promt-text").val(),$(this).dialog("close"),$("#dlepopup").remove(),$.post(dle_root+"engine/ajax/controller.php?mod=message",{id:t,user_hash:dle_login_hash,text:e},function(e){"ok"==e?document.location=dle_root+"index.php?do=deletenews&id="+t+"&hash="+dle_login_hash:ModAlert.addAlert({type:"error",title:dle_info,text:"Send Error"})}))},$("#dlepopup").remove(),$("body").append("<div id='dlepopup' class='dle-promt' title='"+dle_notice+"' style='display:none'>"+dle_p_text+"<br /><br /><textarea name='dle-promt-text' id='dle-promt-text' class='ui-widget-content ui-corner-all' style='width:97%;height:100px;'></textarea></div>"),$("#dlepopup").dialog({autoOpen:!0,width:500,resizable:!1,dialogClass:"modalfixed dle-popup-newsdelete",buttons:e}),$(".modalfixed.ui-dialog").css({position:"fixed"}),$("#dlepopup").dialog("option","position",{my:"center",at:"center",of:window})}),e[dle_act_lang[0]]=function(){$(this).dialog("close"),document.location=dle_root+"index.php?do=deletenews&id="+t+"&hash="+dle_login_hash},$("#dlepopup").remove(),$("body").append("<div id='dlepopup' class='dle-promt' title='"+dle_confirm+"' style='display:none'><div id='dlepopupmessage'>"+dle_del_agree+"</div></div>"),$("#dlepopup").dialog({autoOpen:!0,width:500,resizable:!1,dialogClass:"modalfixed dle-popup-newsdelete",buttons:e}),$(".modalfixed.ui-dialog").css({position:"fixed"}),$("#dlepopup").dialog("option","position",{my:"center",at:"center",of:window})}function MenuNewsBuild(e,t){var i=[];return i[0]="<a onclick=\"ajax_prep_for_edit('"+e+"', '"+t+'\'); return false;" href="#">'+menu_short+"</a>",""!=dle_admin&&(i[1]='<a href="'+dle_root+dle_admin+"?mod=editnews&action=editnews&id="+e+'" target="_blank">'+menu_full+"</a>"),allow_dle_delete_news&&(i[2]="<a onclick=\"sendNotice ('"+e+'\'); return false;" href="#">'+dle_notice+"</a>",i[3]="<a onclick=\"dle_news_delete ('"+e+'\'); return false;" href="#">'+dle_del_news+"</a>"),i}function sendNotice(t){var e={};e[dle_act_lang[3]]=function(){$(this).dialog("close")},e[dle_p_send]=function(){var e;$("#dle-promt-text").val().length<1?$("#dle-promt-text").addClass("ui-state-error"):(e=$("#dle-promt-text").val(),$(this).dialog("close"),$("#dlepopup").remove(),$.post(dle_root+"engine/ajax/controller.php?mod=message",{id:t,user_hash:dle_login_hash,text:e,allowdelete:"no"},function(e){"ok"==e&&ModAlert.addAlert({type:"info",title:dle_info,text:dle_p_send_ok})}))},$("#dlepopup").remove(),$("body").append("<div id='dlepopup' title='"+dle_notice+"' style='display:none'>"+dle_p_text+"<br /><br /><textarea name='dle-promt-text' id='dle-promt-text' class='ui-widget-content ui-corner-all' style='width:97%;height:100px;'></textarea></div>"),$("#dlepopup").dialog({autoOpen:!0,width:500,resizable:!1,dialogClass:"modalfixed dle-popup-sendmessage",buttons:e}),$(".modalfixed.ui-dialog").css({position:"fixed"}),$("#dlepopup").dialog("option","position",{my:"center",at:"center",of:window})}function AddComplaint(i,o){var e={},t="";e[dle_act_lang[3]]=function(){$(this).dialog("close")},e[dle_p_send]=function(){var e,t;$("#dle-promt-text").val().length<1?$("#dle-promt-text").addClass("ui-state-error"):(e=$("#dle-promt-text").val(),t="",$("#dle-promt-mail").val()&&(t=$("#dle-promt-mail").val()),ShowLoading(""),$.post(dle_root+"engine/ajax/controller.php?mod=complaint",{id:i,text:e,action:o,mail:t,user_hash:dle_login_hash},function(e){HideLoading(""),"ok"==e?($("#dlecomplaint").remove(),ModAlert.addAlert({type:"info",title:dle_p_send_ok,text:dle_info})):ModAlert.addAlert({type:"error",title:dle_info,text:"Вы уже отправляли уведомление"})}))},$("#dlecomplaint").remove(),5==dle_group&&(t=dle_mail+'<br><input type="text" name="dle-promt-mail" id="dle-promt-mail" class="ui-widget-content ui-corner-all" style="width:100%;" value="">'),$("body").append("<div id='dlecomplaint' title='"+dle_c_title+"' style='display:none'>"+dle_complaint+"<br><textarea name='dle-promt-text' id='dle-promt-text' class='ui-widget-content ui-corner-all' style='width:100%;height:140px;'></textarea>"+t+"</div>"),$("#dlecomplaint").dialog({autoOpen:!0,width:600,resizable:!1,dialogClass:"modalfixed dle-popup-complaint",buttons:e}),$(".modalfixed.ui-dialog").css({position:"fixed"}),$("#dlecomplaint").dialog("option","position",{my:"center",at:"center",of:window})}function DLEalert(e,t){$("#dlepopup").remove(),$("body").append("<div id='dlepopup' class='dle-alert' title='"+t+"' style='display:none'>"+e+"</div>"),$("#dlepopup").dialog({autoOpen:!0,width:470,resizable:!1,dialogClass:"modalfixed dle-popup-alert",buttons:{Ok:function(){$(this).dialog("close"),$("#dlepopup").remove()}}}),$(".modalfixed.ui-dialog").css({position:"fixed"}),$("#dlepopup").dialog("option","position",{my:"center",at:"center",of:window})}function DLEconfirm(e,t,i){var o={};o[dle_act_lang[1]]=function(){$(this).dialog("close"),$("#dlepopup").remove()},o[dle_act_lang[0]]=function(){$(this).dialog("close"),$("#dlepopup").remove(),i&&i()},$("#dlepopup").remove(),$("body").append("<div id='dlepopup' class='dle-confirm' title='"+t+"' style='display:none'>"+e+"</div>"),$("#dlepopup").dialog({autoOpen:!0,width:500,resizable:!1,dialogClass:"modalfixed dle-popup-confirm",buttons:o}),$(".modalfixed.ui-dialog").css({position:"fixed"}),$("#dlepopup").dialog("option","position",{my:"center",at:"center",of:window})}function DLEprompt(e,t,i,o,n){var s={};s[dle_act_lang[3]]=function(){$(this).dialog("close")},s[dle_act_lang[2]]=function(){var e;!n&&$("#dle-promt-text").val().length<1?$("#dle-promt-text").addClass("ui-state-error"):(e=$("#dle-promt-text").val(),$(this).dialog("close"),$("#dlepopup").remove(),o&&o(e))},$("#dlepopup").remove(),$("body").append("<div id='dlepopup' class='dle-promt' title='"+i+"' style='display:none'>"+e+"<br /><br /><input type='text' name='dle-promt-text' id='dle-promt-text' class='ui-widget-content ui-corner-all' style='width:97%;' value='"+t+"'/></div>"),$("#dlepopup").dialog({autoOpen:!0,width:500,resizable:!1,dialogClass:"modalfixed dle-popup-promt",buttons:s}),$(".modalfixed.ui-dialog").css({position:"fixed"}),$("#dlepopup").dialog("option","position",{my:"center",at:"center",of:window}),(0<t.length?$("#dle-promt-text").select():$("#dle-promt-text")).focus()}var dle_user_profile="",dle_user_profile_link="";function ShowPopupProfile(e,t){var i={};return i[menu_profile]=function(){document.location=dle_user_profile_link},5!=dle_group&&(i[menu_send]=function(){DLESendPM(dle_user_profile)}),1==t&&(i[menu_uedit]=function(){$(this).dialog("close");var e={};return $("body").append('<div id="modal-overlay" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #666666; opacity: .40;filter:Alpha(Opacity=40); z-index: 999; display:none;"></div>'),$("#modal-overlay").css({filter:"alpha(opacity=40)"}).fadeIn("slow"),$("#dleuserpopup").remove(),$("body").append("<div id='dleuserpopup' title='"+menu_uedit+"' style='display:none'></div>"),e[dle_act_lang[3]]=function(){$(this).dialog("close"),$("#dleuserpopup").remove()},e[dle_act_lang[5]]=function(){window.frames.edituserframe.confirmDelete(dle_login_hash)},e[dle_act_lang[4]]=function(){document.getElementById("edituserframe").contentWindow.document.getElementById("saveuserform").submit()},$("#dleuserpopup").dialog({autoOpen:!0,width:700,resizable:!1,dialogClass:"modalfixed dle-popup-userprofileadmin",buttons:e,open:function(e,t){$("#dleuserpopup").html("<iframe name='edituserframe' id='edituserframe' width='100%' height='400' src='"+dle_root+dle_admin+"?mod=editusers&action=edituser&user="+dle_user_profile+"&skin="+dle_skin+"' frameborder='0' marginwidth='0' marginheight='0' allowtransparency='true'></iframe>")},beforeClose:function(e,t){$("#dleuserpopup").html("")},close:function(e,t){$("#modal-overlay").fadeOut("slow",function(){$("#modal-overlay").remove()})}}),830<$(window).width()&&530<$(window).height()&&($(".modalfixed.ui-dialog").css({position:"fixed"}),$("#dleuserpopup").dialog("option","position",{my:"center",at:"center",of:window})),!1}),$("#dleprofilepopup").remove(),$("body").append(e),$("#dleprofilepopup").dialog({autoOpen:!0,resizable:!1,dialogClass:"dle-popup-userprofile",buttons:i,width:550}),!1}function ShowProfile(e,t,i){return dle_user_profile==e&&document.getElementById("dleprofilepopup")?$("#dleprofilepopup").dialog("open"):(dle_user_profile=e,dle_user_profile_link=t,ShowLoading(""),$.get(dle_root+"engine/ajax/controller.php?mod=profile",{name:e,skin:dle_skin,user_hash:dle_login_hash},function(e){HideLoading(""),ShowPopupProfile(e,i)})),!1}function FastSearch(){$("#story").attr("autocomplete","off"),$("#story").blur(function(){$("#searchsuggestions").fadeOut()}),$("#story").keyup(function(){var e=$(this).val();0==e.length?$("#searchsuggestions").fadeOut():dle_search_value!=e&&e.length>=dle_min_search&&(clearInterval(dle_search_delay),dle_search_delay=setInterval(function(){dle_do_search(e)},600))})}function dle_do_search(e){clearInterval(dle_search_delay),$("#searchsuggestions").remove(),$("body").append("<div id='searchsuggestions'></div>"),$.post(dle_root+"engine/ajax/controller.php?mod=search",{query:""+e,user_hash:dle_login_hash},function(e){$("#searchsuggestions").html(e).fadeIn().css({position:"absolute",top:0,left:0}).position({my:"left top",at:"left bottom",of:"#story",collision:"fit flip"})}),dle_search_value=e}function ShowLoading(e,t="center",i="center"){$("#loading-layer").remove(),$("body").append('<div id="loading-layer" class="withtext" style="display:none"> Загрузка, пожалуйста подождите!</div>');var o=($(window).width()-$("#loading-layer").outerWidth())/2,n=($(window).height()-$("#loading-layer").outerHeight())/2;switch(t){case"left":o=15;break;case"right":o=$(window).width()-$("#loading-layer").outerWidth()-15}switch(i){case"top":n=15;break;case"bottom":n=$(window).height()-$("#loading-layer").outerHeight()-15}$("#loading-layer").css({left:o+"px",top:n+"px",position:"fixed",zIndex:"9999"}),$("#loading-layer").fadeTo("slow",1)}function HideLoading(e){$("#loading-layer").fadeOut("slow",function(){$("#loading-layer").remove()})}function ShowAllVotes(){return document.getElementById("dlevotespopup")?$("#dlevotespopup").dialog("open"):($.ajaxSetup({cache:!1}),ShowLoading(""),$.get(dle_root+"engine/ajax/controller.php?mod=allvotes&dle_skin="+dle_skin,function(e){HideLoading(""),$("#dlevotespopup").remove(),$("body").append(e),$(".dlevotebutton").button(),$("#dlevotespopup").dialog({autoOpen:!0,resizable:!1,dialogClass:"dle-popup-allvotes",width:600}),400<$("#dlevotespopupcontent").height()&&$("#dlevotespopupcontent").height(400),$("#dlevotespopup").dialog("option","height",$("#dlevotespopupcontent").height()+60),$("#dlevotespopup").dialog("option","position","center")})),!1}function fast_vote(t){var e=$("#vote_"+t+" input:radio[name=vote_check]:checked").val();return void 0===e||(ShowLoading(""),$.get(dle_root+"engine/ajax/controller.php?mod=vote",{vote_id:t,vote_action:"vote",vote_mode:"fast_vote",vote_check:e,dle_skin:dle_skin,user_hash:dle_login_hash},function(e){HideLoading(""),$("#dle-vote_list-"+t).fadeOut(500,function(){$(this).html(e),$(this).fadeIn(500)})})),!1}function AddIgnorePM(e,t){DLEconfirm(t,dle_confirm,function(){ShowLoading(""),$.get(dle_root+"engine/ajax/controller.php?mod=adminfunction",{id:e,action:"add_ignore",skin:dle_skin,user_hash:dle_login_hash},function(e){return HideLoading(""),ModAlert.addAlert({type:"info",title:dle_info,text:e}),!1})})}function DelIgnorePM(t,e){return DLEconfirm(e,dle_confirm,function(){ShowLoading(""),$.get(dle_root+"engine/ajax/controller.php?mod=adminfunction",{id:t,action:"del_ignore",skin:dle_skin,user_hash:dle_login_hash},function(e){return HideLoading(""),$("#dle-ignore-list-"+t).html(""),ModAlert.addAlert({type:"info",title:dle_info,text:e}),!1})}),!1}function DelSocial(t,e){return DLEconfirm(e,dle_confirm,function(){ShowLoading(""),$.get(dle_root+"engine/ajax/controller.php?mod=adminfunction",{id:t,action:"del_social",user_hash:dle_login_hash},function(e){return HideLoading(""),$("#dle-social-list-"+t).html(""),ModAlert.addAlert({type:"info",title:dle_info,text:e}),!1})}),!1}function subscribe(e,t){var i=dle_sub_agree;return 0==t&&(i=dle_unsub_agree),DLEconfirm(i,dle_confirm,function(){ShowLoading(""),$.get(dle_root+"engine/ajax/controller.php?mod=commentssubscribe",{news_id:e,skin:dle_skin,sub_action:t,user_hash:dle_login_hash},function(e){HideLoading(""),e.success?ModAlert.addAlert({type:"info",title:dle_info,text:e.info}):e.error&&ModAlert.addAlert({type:"error",title:dle_info,text:e.errorinfo})},"json")}),!1}var media_upload_manager=!1;function media_upload(e,t,i,o){var n="none",s=e+t+i+o;return $("#mediaupload").hasClass("ui-dialog-content")&&media_upload_manager==s?($("#mediaupload").dialog("open"),check_all()):($("#mediaupload").remove(),$("body").append("<div id='mediaupload' class='mediaupload-body' title='"+text_upload+"' style='display:none'></div>"),ShowLoading(""),$.get(dle_root+"engine/ajax/controller.php",{mod:"upload",area:e,news_id:i,author:t,wysiwyg:o},function(e){HideLoading(""),$("#mediaupload").html(e);var t=.9*$(window).height();830<(e=.9*$(window).width())&&(e=830),600<t&&(t=600),$("#mediaupload").dialog({autoOpen:!0,width:e,height:t,resizable:!1,dialogClass:"modalfixed dle-popup-mediaupload",open:function(e,t){$(".dle-popup-mediaupload").append($("#mediaupload-buttonpane").html()),$("#mediaupload-buttonpane").remove()},dragStart:function(e,t){n=$(".modalfixed").css("box-shadow"),$(".modalfixed").fadeTo(0,.7).css("box-shadow","none"),$("#mediaupload").css("visibility","hidden")},dragStop:function(e,t){$(".modalfixed").fadeTo(0,1).css("box-shadow",n),$("#mediaupload").css("visibility","visible")}}),media_upload_manager=s,830<$(window).width()&&530<$(window).height()&&($(".modalfixed.ui-dialog").css({position:"fixed"}),$("#mediaupload").dialog("option","position",{my:"center",at:"center",of:window}))},"html")),!1}function dropdownmenu(e,t,i,o){return window.event?event.cancelBubble=!0:t.stopPropagation&&t.stopPropagation(),(t=$("#dropmenudiv")).is(":visible")?(clearhidemenu(),t.fadeOut("fast")):(t.remove(),$("body").append('<div id="dropmenudiv" style="display:none;position:absolute;z-index:100;width:165px;"></div>'),(t=$("#dropmenudiv")).html(i.join("")),o&&t.width(o),(i=$(document).width()-30)-(o=$(e).offset()).left<t.width()&&(o.left=o.left-(t.width()-$(e).width())),t.css({left:o.left+"px",top:o.top+$(e).height()+"px"}),t.fadeTo("fast",.9),t.mouseenter(function(){clearhidemenu()}).mouseleave(function(){delayhidemenu()}),$(document).one("click",function(){hidemenu()})),!1}function setcookie(e,t){var i=new Date;i.setTime(i.getTime()+26784e5),i="expires="+i.toUTCString(),document.cookie=e+"="+t+";"+i+";path=/"}function get_local_storage(e){try{return localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):null}catch(e){return null}}function set_local_storage(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(e){}}function del_local_storage(e,t){try{localStorage.removeItem(e)}catch(e){}}function save_last_viewed(e){if(e=parseInt(e),isNaN(e))return null;var t=get_local_storage("viewed_ids");return $.isArray(t)?-1==$.inArray(e,t)&&(19<t.length&&t.pop(),t.unshift(e)):(t=[]).push(e),set_local_storage("viewed_ids",t),setcookie("viewed_ids",t.join()),!0}function hidemenu(e){$("#dropmenudiv").fadeOut("fast")}function delayhidemenu(){delayhide=setTimeout("hidemenu()",1e3)}function clearhidemenu(){"undefined"!=typeof delayhide&&clearTimeout(delayhide)}jQuery(function(o){var i=!1,e=new Array,n="";o(document).keydown(function(e){var t;if(13==e.which&&e.ctrlKey)return e.preventDefault(),window.getSelection?t=window.getSelection():document.getSelection?t=document.getSelection():document.selection&&(t=document.selection.createRange().text),""!=t&&(255<t.toString().length?(ModAlert.addAlert({type:"info",title:dle_info,text:dle_big_text}),!1):((e={})[dle_act_lang[3]]=function(){o(this).dialog("close")},e[dle_p_send]=function(){var e,t,i;o("#dle-promt-text").val().length<1?o("#dle-promt-text").addClass("ui-state-error"):(e=o("#dle-promt-text").val(),t=o("#orfom").text(),i="",o("#dle-promt-mail").val()&&(i=o("#dle-promt-mail").val()),ShowLoading(""),o.post(dle_root+"engine/ajax/controller.php?mod=complaint",{seltext:t,text:e,mail:i,user_hash:dle_login_hash,action:"orfo",url:window.location.href},function(e){HideLoading(""),"ok"==e?(o("#dlecomplaint").remove(),ModAlert.addAlert({type:"info",title:dle_info,text:dle_p_send_ok})):ModAlert.addAlert({type:"error",title:dle_info,text:e})}))},o("#dlecomplaint").remove(),5==dle_group&&(n=dle_mail+'<br><input type="text" name="dle-promt-mail" id="dle-promt-mail" class="ui-widget-content ui-corner-all" style="width:100%;" value="">'),o("body").append("<div id='dlecomplaint' class='dle-promt' title='"+dle_c_title+"' style='display:none'>"+dle_orfo_title+"<br><textarea name='dle-promt-text' id='dle-promt-text' class='ui-widget-content ui-corner-all' style='width:100%;height:140px;'></textarea>"+n+"<div id='orfom' style='display:none'>"+t+"</div></div>"),o("#dlecomplaint").dialog({autoOpen:!0,width:600,resizable:!1,dialogClass:"modalfixed dle-popup-complaint",buttons:e}),o(".modalfixed.ui-dialog").css({position:"fixed"}),void o("#dlecomplaint").dialog("option","position",{my:"center",at:"center",of:window})))}),setTimeout(function(){o("img[data-maxwidth]").each(function(){var e=o(this).width(),t=o(this).data("maxwidth");o(this)[0].naturalWidth&&(e=o(this)[0].naturalWidth),t<e&&(o(this).width(t),o(this).wrap('<a href="'+o(this).attr("src")+'" onclick="return hs.expand(this)"></a>'),"undefined"==typeof hs&&0==i&&(i=!0,o.getCachedScript(dle_root+"engine/classes/highslide/highslide.js").done(function(){hs.graphicsDir=dle_root+"engine/classes/highslide/graphics/",hs.numberOfImagesToPreload=0,hs.captionEval="this.thumb.alt",hs.showCredits=!1,hs.align="center",hs.transitions=["expand","crossfade"]})))})},300),setTimeout(function(){o("div[data-dlebclicks]").each(function(){var e=o(this).data("dlebid");o(this).find("a").on("click",function(){o.post(dle_root+"engine/ajax/controller.php?mod=adminfunction",{id:e,action:"bannersclick",user_hash:dle_login_hash})})})},400),o("div[data-dlebviews]").each(function(){e.push(o(this).data("dlebid"))}),e.length&&setTimeout(function(){o.post(dle_root+"engine/ajax/controller.php?mod=adminfunction",{"ids[]":e,action:"bannersviews",user_hash:dle_login_hash})},1e3)}),jQuery.getCachedScript=function(e,t){return t=$.extend(t||{},{dataType:"script",cache:!0,url:e}),jQuery.ajax(t)},function(m,g,e,i){function o(e,t){return(e[t]===i?k:e)[t]}function v(){var e=g.pageYOffset;return e===i?$.scrollTop:e}function _(e,t){var i=k["on"+e];i&&(C(i)?i.call(t[0]):(i.addClass&&t.addClass(i.addClass),i.removeClass&&t.removeClass(i.removeClass))),t.trigger("lazy"+e,[t]),d()}function y(e){_(e.type,m(this).off(x,y))}function t(e){if(E.length){e=e||k.forceLoad,A=1/0;for(var t=v(),i=g.innerHeight||$.clientHeight,o=g.innerWidth||$.clientWidth,n=0,s=E.length;n<s;n++){var a,r,l,d,c=E[n],u=c[0],h=c[b],p=!1,f=e||T(u,w)<0;m.contains($,u)?(e||!h.visibleOnly||u.offsetWidth||u.offsetHeight)&&(f||(a=u.getBoundingClientRect(),r=h.edgeX,l=h.edgeY,f=(d=a.top+t-l-i)<=t&&a.bottom>-l&&a.left<=o+r&&a.right>-r),f?(c.on(x,y),_("show",c),h=h.srcAttr,(h=C(h)?h(c):u.getAttribute(h))&&(u.src=h),p=!0):d<A&&(A=d)):p=!0,p&&(T(u,w,0),E.splice(n--,1),s--)}s||_("complete",m($))}}function n(){1<h?(h=1,t(),setTimeout(n,k.throttle)):h=0}function d(e){E.length&&(e&&"scroll"===e.type&&e.currentTarget===g&&A>=v()||(h||setTimeout(n,0),h=2))}function s(){l.lazyLoadXT()}function a(){t(!0)}var b="lazyLoadXT",w="lazied",x="load error",r="lazy-hidden",$=e.documentElement||e.body,k={autoInit:!0,selector:"img[data-src],iframe[data-src]",blankImage:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",throttle:99,forceLoad:g.onscroll===i||!!g.operamini||!$.getBoundingClientRect,loadEvent:"pageshow",updateEvent:"load orientationchange resize scroll touchmove focus",forceEvent:"lazyloadall",oninit:{removeClass:"lazy"},onshow:{addClass:r},onload:{removeClass:r,addClass:"lazy-loaded"},onerror:{removeClass:r},checkDuplicates:!0},c={srcAttr:"data-src",edgeX:0,edgeY:0,visibleOnly:!0},l=m(g),C=m.isFunction,u=m.extend,T=m.data||function(e,t){return m(e).data(t)},E=[],A=0,h=0;m[b]=u(k,c,m[b]),m.fn[b]=function(n){var e,s=o(n=n||{},"blankImage"),a=o(n,"checkDuplicates"),t=o(n,"scrollContainer"),r=o(n,"show"),l={};for(e in m(t).on("scroll",d),c)l[e]=o(n,e);return this.each(function(e,t){var i,o;t===g?m(k.selector).lazyLoadXT(n):(i=a&&T(t,w),o=m(t).data(w,r?-1:1),i||(s&&"IMG"===t.tagName&&!t.src&&(t.src=s),o[b]=u({},l),_("init",o),E.push(o)),d())})},m(e).ready(function(){_("start",l),l.on(k.updateEvent,d).on(k.forceEvent,a),m(e).on(k.updateEvent,d),k.autoInit&&(l.on(k.loadEvent,s),s())})}(window.jQuery||window.Zepto||window.$,window,document);